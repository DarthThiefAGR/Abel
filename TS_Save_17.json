{
  "SaveName": "canastaV3",
  "GameMode": "Cards",
  "Gravity": 0.5,
  "PlayArea": 0.5,
  "Date": "4/17/2020 11:48:29 PM",
  "Table": "Table_Custom_Square",
  "TableURL": "http://cloud-3.steamusercontent.com/ugc/1020570631714070622/4D6023DDFC41030B3C3CBD78B4E76EB387ABFFD3/",
  "Sky": "Sky_Regal",
  "Note": "",
  "Rules": "",
  "XmlUI": "<!-- Xml UI. See documentation: https://api.tabletopsimulator.com/ui/introUI/ -->",
  "LuaScript": "function onLoad()\n\n    -- INCLUDES\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/colocar_cartas\nfunction colocarFloresEnZona(salidaF,zona,equipo)\r\n\r\n  local objectsInZone = zona.getObjects()\r\n  local nObjetos      = #objectsInZone\r\n  local posicionCarta = {}\r\n  local rotacionCarta = {}\r\n  local posicionZonai = zona.getPosition()\r\n  local rotacionZonai = zona.getRotation()\r\n\r\n  nObjetosActual     = salidaF[1]\r\n  carta_actual       = salidaF[2]\r\n\r\n  -- Colocamos carta en su sitio, si es una flor\r\n  if (nObjetos ~= nObjetosActual) and nObjetos == 1 and activar_colocacion == 'si' then\r\n\r\n    posicionCarta.x = posicionZonai.x\r\n    posicionCarta.y = posicionZonai.y\r\n    posicionCarta.z = posicionZonai.z\r\n\r\n    carta = objectsInZone[1]\r\n    carta_name = carta.getName()\r\n\r\n    if carta_name == '3r' or carta_name == '3c' then\r\n      -- Colocamos flor en su sitio\r\n      objectsInZone[1].setPosition(posicionCarta)\r\n      objectsInZone[1].setRotation(rotation)\r\n      objectsInZone[1].setLock(true)\r\n      -- Contabilizamos puntos\r\n      contar_puntos_flor(equipo,'in')\r\n      -- Guardamos carta\r\n      carta_actual = 'flor'\r\n    else\r\n      carta_actual = 'no_flor'\r\n    end\r\n\r\n  end\r\n\r\n  -- Sacamos flor\r\n  if (nObjetos ~= nObjetosActual) and nObjetos == 0 then\r\n    --print(carta_actual)\r\n    if carta_actual == 'flor' then\r\n      contar_puntos_flor(equipo,'out')\r\n      carta_actual = 'no_flor'\r\n    end\r\n  end\r\n\r\n  nObjetosActual = nObjetos\r\n\r\n  salidaF[1] = nObjetosActual\r\n  salidaF[2] = carta_actual\r\n  return salidaF\r\n\r\nend\r\n\r\nfunction contar_puntos_flor(equipo,in_out)\r\n\r\n  -- Puntos en el contador de puntos canasta\r\n  contador_nombre = 'contador_puntos_canastas_E' .. equipo\r\n  contador_obj = _G[contador_nombre]\r\n\r\n  -- Número de flores del equipo\r\n  zonaF_nombre = 'zonasFloresE' .. equipo\r\n  zonaF_obj = _G[zonaF_nombre]\r\n  Nflores = 0\r\n\r\n  for _,zona in ipairs(zonaF_obj) do\r\n    carta = zona.getObjects()\r\n    Ncarta = #carta\r\n    if Ncarta == 1 then\r\n      Nflores = Nflores + 1\r\n    end\r\n  end\r\n\r\n  -- Contabilizamos nuevos puntos\r\n  puntos_actuales = contador_obj.getValue()\r\n\r\n  if in_out == 'out' then\r\n    if Nflores == 3 then\r\n      if puntos_actuales <= 0 then\r\n        puntos_actuales = puntos_actuales + 500\r\n      elseif puntos_actuales > 0 then\r\n        puntos_actuales = puntos_actuales - 500\r\n      end\r\n    elseif Nflores < 3 then\r\n      if puntos_actuales <= 0 then\r\n        puntos_actuales = puntos_actuales + 100\r\n      elseif puntos_actuales > 0 then\r\n        puntos_actuales = puntos_actuales - 100\r\n      end\r\n    end\r\n  elseif in_out == 'in' then\r\n    if Nflores == 4 then\r\n      if puntos_actuales <= 0 then\r\n        puntos_actuales = puntos_actuales - 500\r\n      elseif puntos_actuales > 0 then\r\n        puntos_actuales = puntos_actuales + 500\r\n      end\r\n    elseif Nflores < 4 then\r\n      if puntos_actuales <= 0 then\r\n        puntos_actuales = puntos_actuales - 100\r\n      elseif puntos_actuales > 0 then\r\n        puntos_actuales = puntos_actuales + 100\r\n      end\r\n    end\r\n  end\r\n\r\n  -- Actualizamos contador\r\n  contador_obj.setValue(puntos_actuales)\r\n\r\nend\r\n\r\n\r\nfunction colocaCartasEnZona_v3(salidaE,zona)\r\n\r\n    nObjetosActual     = salidaE[1]\r\n    tipo_canasta       = salidaE[2]\r\n    activar_colocacion = salidaE[3]\r\n\r\n    local objectsInZone = zona.getObjects()\r\n    local nObjetos      = #objectsInZone\r\n\r\n    local posicionCarta = {}\r\n    local rotacionCarta = {}\r\n    local posicionZonai = zona.getPosition()\r\n    local rotacionZonai = zona.getRotation()\r\n\r\n    -- Parámetros de colocación\r\n    local paramXA = 3.3\r\n    local paramXB = 0.9\r\n    local paramYA = 1.5\r\n    local angA   = 0\r\n    local angB   = 9\r\n\r\n    -- Si ha variado el número de objetos en el interior de la zona\r\n    -- y el número de cartas es 8 como máximo, ejecutamos el script\r\n    if (nObjetos ~= nObjetosActual) and (nObjetos <= 8) then\r\n\r\n      print(nObjetosActual)\r\n      print(tipo_canasta)\r\n      print(activar_colocacion)\r\n      if activar_colocacion == 0 then\r\n        print('No funciona')\r\n      end\r\n\r\n\r\n\r\n      print('')\r\n      print('nObjetosActual = ',nObjetosActual)\r\n      print('tipo_canasta = ',tipo_canasta)\r\n\r\n      print('nObjetos = ',nObjetos)\r\n\r\n      if nObjetos < nObjetosActual then\r\n        obj_in_out = 'out'\r\n      else\r\n        obj_in_out = 'in'\r\n      end\r\n\r\n      print('')\r\n      print('obj_in_out = ',obj_in_out)\r\n\r\n      nObjetosActual = nObjetos\r\n\r\n\r\n      error_tipo_obj = false\r\n      -- Si objeto entra, detectamos cual es (cual no está bloqueado), y si es una carta\r\n      if obj_in_out == 'in' then\r\n\r\n        kk    = 1\r\n        k_new = 0\r\n\r\n        if nObjetos > 0 then\r\n\r\n          obj      = objectsInZone[kk]\r\n          obj_name = obj.name\r\n          print(obj_name)\r\n          if obj_name == 'Card' or obj_name == 'CardCustom' then\r\n            while k_new == 0 do\r\n              obj      = objectsInZone[kk]\r\n              obj_name = obj.name\r\n              bloq  = obj.getLock()\r\n              if bloq == false then\r\n                  k_new = kk\r\n              end\r\n              kk = kk + 1\r\n            end\r\n          else\r\n            error_tipo_obj = true\r\n          end\r\n\r\n        end\r\n        print('k_new = ',k_new)\r\n      end\r\n      print('error_tipo_obj = ',error_tipo_obj)\r\n\r\n\r\n      -- Una vez sabemos cual es el objeto que acaba de entrar, actuamos:\r\n      bloquear_carta = 'no'\r\n\r\n      -- El objeto introducido en zona no es una carta\r\n      if error_tipo_obj == true then\r\n        printToAll('No se pueden colocar mazos de cartas en la zona de canastas', {1,0,0})\r\n\r\n      -- Si hay carta nueva que haya entrado en zona\r\n      elseif error_tipo_obj == false and obj_in_out == 'in' then\r\n\r\n        -- Contamos cuantos monos hay en la canasta\r\n        Nmonos = 0\r\n        for i = 1,nObjetos do\r\n          carta = objectsInZone[i]\r\n          nombreCarta = carta.getName()\r\n          if (nombreCarta == 'Joker') or (nombreCarta == '2c') or\r\n                 (nombreCarta == '2r') or (nombreCarta == '2p') or\r\n                 (nombreCarta == '2t') then\r\n            Nmonos = Nmonos + 1\r\n          end\r\n        end\r\n\r\n        print('')\r\n        print('Nmonos = ',Nmonos)\r\n\r\n        -- Colocamos la carta nueva según condiciones\r\n        carta = objectsInZone[k_new]\r\n        nombreCarta = carta.getName()\r\n        numCarta  = string.sub(nombreCarta,\r\n                    string.len(nombreCarta)-2,\r\n                    string.len(nombreCarta)-1)\r\n        paloCarta = string.sub(nombreCarta,-1)\r\n\r\n        if (nombreCarta == 'Joker') or (nombreCarta == '2c') or\r\n               (nombreCarta == '2r') or (nombreCarta == '2p') or\r\n               (nombreCarta == '2t') then\r\n          numCarta = 'Mono'\r\n        end\r\n\r\n        print('nombreCarta = ',nombreCarta)\r\n        print('numCarta = ',numCarta)\r\n        print('paloCarta = ',paloCarta)\r\n\r\n        -- Se ha introducido marcador, sin ser la carta nº 8\r\n        if (nObjetos < 8 and (nombreCarta == 'Oculta' or nombreCarta == 'Oculta Apoyada')) then\r\n          printToAll('El marcador de canasta oculta se tiene que poner al final', {r=1,g=0,b=0})\r\n\r\n        -- Se ha introducido como carta nº8 una carta que no es el marcador\r\n        elseif nObjetos == 8 and (nombreCarta ~= 'Oculta' and nombreCarta ~= 'Oculta Apoyada') then\r\n          printToAll('La carta número 8 sólo puede ser el marcador de canasta oculta', {r=1,g=0,b=0})\r\n\r\n        -- Se ha introducido la primera carta de la canasta\r\n        elseif nObjetos == 1 then\r\n\r\n          -- Si la carta es un mono\r\n          if (nombreCarta == 'Joker') or (nombreCarta == '2c') or\r\n                 (nombreCarta == '2r') or (nombreCarta == '2p') or\r\n                 (nombreCarta == '2t') then\r\n            tipo_canasta = numCarta\r\n            txt_out = 'La canasta será del tipo: ' .. tipo_canasta\r\n            printToAll(txt_out, {r=1,g=0,b=0})\r\n            bloquear_carta = 'si'\r\n\r\n          -- Si la carta es una flor\r\n          elseif (nombreCarta == '3c') or (nombreCarta == '3r') then\r\n            printToAll('No se pueden hacer canastas de flores, colocala en su sitio', {r=1,g=0,b=0})\r\n\r\n          -- Si la carta es una carta normal\r\n          else\r\n            tipo_canasta = numCarta\r\n            txt_out = 'La canasta será del tipo: ' .. tipo_canasta\r\n            printToAll(txt_out, {r=1,g=0,b=0})\r\n            bloquear_carta = 'si'\r\n          end\r\n\r\n        -- Se introduce desde la 2ª a la 7ª carta de la canasta\r\n        elseif nObjetos > 1 and nObjetos < 7 then\r\n          -- Necesitamos conocer el tipo de canasta, para saber si es correcta la carta\r\n\r\n          -- Si la carta no coincide con el tipo de canasta y no es un mono\r\n          if tipo_canasta ~= numCarta and numCarta ~= 'Mono' then\r\n            printToAll('Carta no válida', {r=1,g=0,b=0})\r\n\r\n          -- Si la carta no coincide con el tipo de canasta, pero es un mono\r\n          elseif tipo_canasta ~= numCarta and numCarta == 'Mono' then\r\n\r\n            if Nmonos > math.floor(nObjetos /2) then\r\n              txt_out = 'Superado número máximo actual de monos'\r\n              printToAll(txt_out, {r=1,g=0,b=0})\r\n            else\r\n              txt_out = 'Canasta de tipo ' .. numCarta .. ' - ' .. (7-nObjetos) .. ' restantes'\r\n              printToAll(txt_out, {r=1,g=0,b=0})\r\n              bloquear_carta = 'si'\r\n            end\r\n\r\n          -- Si la carta coincide con el tipo de canasta\r\n          else\r\n            txt_out = 'Canasta de tipo ' .. numCarta .. ' - ' .. (7-nObjetos) .. ' restantes'\r\n            printToAll(txt_out, {r=1,g=0,b=0})\r\n            bloquear_carta = 'si'\r\n          end\r\n\r\n        -- Se introduce desde la 7ª canasta\r\n        elseif nObjetos == 7 then\r\n\r\n\r\n          -- Si la carta no coincide con el tipo de canasta y no es un mono\r\n          if tipo_canasta ~= numCarta and numCarta ~= 'Mono' then\r\n            printToAll('Carta no válida', {r=1,g=0,b=0})\r\n\r\n          -- Si la carta no coincide con el tipo de canasta, pero es un mono\r\n          elseif tipo_canasta ~= numCarta and numCarta == 'Mono' then\r\n\r\n            if Nmonos > math.floor(nObjetos /2) then\r\n              txt_out = 'Superado número máximo actual de monos'\r\n              printToAll(txt_out, {r=1,g=0,b=0})\r\n            else\r\n              txt_out = '¡Canasta completa!'\r\n              printToAll(txt_out, {r=1,g=0,b=0})\r\n              bloquear_carta = 'si'\r\n            end\r\n\r\n          -- Si la carta coincide con el tipo de canasta\r\n          else\r\n            txt_out = '¡Canasta completa!'\r\n            printToAll(txt_out, {r=1,g=0,b=0})\r\n            bloquear_carta = 'si'\r\n          end\r\n\r\n        -- Carta nº8 es un marcador\r\n        elseif nObjetos == 8 and (nombreCarta == 'Oculta' or nombreCarta == 'Oculta Apoyada') then\r\n          txt_out = '¡Canasta oculta!'\r\n          printToAll(txt_out, {r=1,g=0,b=0})\r\n          bloquear_carta = 'si'\r\n        end\r\n\r\n      end\r\n\r\n\r\n    print('Colocamos? ',bloquear_carta)\r\n    -- Bloqueamos carta si procede\r\n    if bloquear_carta == 'si' then\r\n      -- Tenemos que colocar en su sitio\r\n\r\n      -- Detectamos lado de mesa\r\n      local signo     = 1\r\n      if posicionZonai.x < 0 then\r\n        signo = -1\r\n      end\r\n\r\n      posX = paramXA - (nObjetos-1)*paramXB*signo\r\n      -- Posición de la zona\r\n      posicionCarta.x = posicionZonai.x - posX\r\n      posicionCarta.y = paramYA\r\n      posicionCarta.z = posicionZonai.z\r\n\r\n      angX = signo * ( (8-nObjetos)*(angA/8) + angB )\r\n      rotacionCarta.x = angX\r\n      rotacionCarta.y = rotacionZonai.y\r\n      rotacionCarta.z = rotacionZonai.z\r\n\r\n      -- Colocamos\r\n      objectsInZone[k_new].setPosition(posicionCarta)\r\n      objectsInZone[k_new].setRotation(rotacionCarta)\r\n\r\n      -- Bloqueamos\r\n      objectsInZone[k_new].setLock(true)\r\n    end\r\n\r\n\r\n  end\r\n\r\n  arg_out = {}\r\n  arg_out[1] = nObjetosActual\r\n  arg_out[2] = tipo_canasta\r\n  arg_out[3] = 0\r\n\r\n  return arg_out\r\n\r\n-- Final de función\r\nend\r\n\r\n\r\nfunction colocaCartasEnZona(nObjetosActual,zona)\r\n\r\n    local objectsInZone = zona.getObjects()\r\n    local nObjetos = #objectsInZone\r\n    local posicionCarta = {}\r\n    local rotation = zona.getRotation()\r\n    local posicionZonai = zona.getPosition()\r\n    local tipoCanasta = ''\r\n    local nMonos = 0\r\n    local nNormales = 0\r\n    local signo = 1\r\n\r\n    if posicionZonai.x < 0 then\r\n      signo = -1\r\n    end\r\n\r\n    posicionCarta.x = posicionZonai.x-(3.3*signo)\r\n    posicionCarta.y = posicionZonai.y\r\n    posicionCarta.z = posicionZonai.z\r\n\r\n    if (nObjetos ~= nObjetosActual) and (nObjetos < 9) then\r\n\r\n      nObjetosActual = nObjetos\r\n\r\n      for j,carta in pairs(objectsInZone) do\r\n\r\n        local nombreCarta = carta.getName()\r\n        local tipoCarta = ''\r\n\r\n        if (j < 8 and (nombreCarta == 'Oculta' or nombreCarta == 'Oculta Apoyada')) then\r\n          printToAll('La carta oculta se tiene que poner al final', {r=1,g=0,b=0})\r\n          return nObjetosActual\r\n        elseif j == 8 and (nombreCarta ~= 'Oculta' and nombreCarta ~= 'Oculta Apoyada') then\r\n          printToAll('La carta número 8 solo puede ser la carta oculta', {r=1,g=0,b=0})\r\n          return nObjetosActual\r\n        end\r\n\r\n        if (nombreCarta == 'Joker') or\r\n           (nombreCarta == '2c') or\r\n           (nombreCarta == '2r') or\r\n           (nombreCarta == '2p') or\r\n           (nombreCarta == '2t') then\r\n          nMonos = nMonos + 1\r\n          tipoCarta = 'Mono'\r\n        else\r\n          tipoCarta = string.sub(nombreCarta,\r\n                      string.len(nombreCarta)-2,\r\n                      string.len(nombreCarta)-1)\r\n        end\r\n\r\n        if tipoCarta == '3' then\r\n          print('No se pueden hacer canastas de 3')\r\n          return nObjetosActual\r\n        end\r\n\r\n        if j == 1 then\r\n          tipoCanasta = tipoCarta\r\n          print('La canasta será del tipo: ', tipoCarta)\r\n        elseif (nombreCarta ~= 'Oculta') and (nombreCarta ~= 'Oculta Apoyada')\r\n                and ((tipoCanasta ~= tipoCarta) and (tipoCarta ~= 'Mono' )) or\r\n                ((tipoCanasta ~= 'Mono') and (nMonos > (nObjetos/2))) then\r\n          print('Esta carta no es válida para esta canasta')\r\n          return nObjetosActual\r\n        else\r\n          print('Esta carta es válida')\r\n        end\r\n\r\n      end\r\n\r\n      for _, object in ipairs(objectsInZone) do\r\n        object.setPosition(posicionCarta)\r\n        object.setRotation(rotation)\r\n        object.setLock(true)\r\n        posicionCarta.x = posicionCarta.x+(0.75*signo)\r\n        posicionCarta.y = posicionCarta.y+0.0001\r\n      end\r\n\r\n  end\r\n\r\n  return nObjetosActual\r\n\r\nend\r\n\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/colocar_cartas\n\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_objects\n--------------GENERANDO OBJETOS DESDE lAS GUIDS----------------------\r\n----------------------- Equipo 1----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE1_C01 = getObjectFromGUID(zonaCanastaE1_C01_GUID)\r\nzonaCanastaE1_C02 = getObjectFromGUID(zonaCanastaE1_C02_GUID)\r\nzonaCanastaE1_C03 = getObjectFromGUID(zonaCanastaE1_C03_GUID)\r\nzonaCanastaE1_C04 = getObjectFromGUID(zonaCanastaE1_C04_GUID)\r\nzonaCanastaE1_C05 = getObjectFromGUID(zonaCanastaE1_C05_GUID)\r\nzonaCanastaE1_C06 = getObjectFromGUID(zonaCanastaE1_C06_GUID)\r\nzonaCanastaE1_C07 = getObjectFromGUID(zonaCanastaE1_C07_GUID)\r\nzonaCanastaE1_C08 = getObjectFromGUID(zonaCanastaE1_C08_GUID)\r\nzonaCanastaE1_C09 = getObjectFromGUID(zonaCanastaE1_C09_GUID)\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nZonaCerradaE1_C01 = getObjectFromGUID(zonaCerradaE1_C01_GUID)\r\nZonaCerradaE1_C02 = getObjectFromGUID(zonaCerradaE1_C02_GUID)\r\nZonaCerradaE1_C03 = getObjectFromGUID(zonaCerradaE1_C03_GUID)\r\nZonaCerradaE1_C04 = getObjectFromGUID(zonaCerradaE1_C04_GUID)\r\nZonaCerradaE1_C05 = getObjectFromGUID(zonaCerradaE1_C05_GUID)\r\nZonaCerradaE1_C06 = getObjectFromGUID(zonaCerradaE1_C06_GUID)\r\nZonaCerradaE1_C07 = getObjectFromGUID(zonaCerradaE1_C07_GUID)\r\nZonaCerradaE1_C08 = getObjectFromGUID(zonaCerradaE1_C08_GUID)\r\n-------------------------Flores------------\r\nZonaCerradaE1_F01 = getObjectFromGUID(zonaCerradaE1_F01_GUID)\r\nZonaCerradaE1_F02 = getObjectFromGUID(zonaCerradaE1_F02_GUID)\r\nZonaCerradaE1_F03 = getObjectFromGUID(zonaCerradaE1_F03_GUID)\r\nZonaCerradaE1_F04 = getObjectFromGUID(zonaCerradaE1_F04_GUID)\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01 = getObjectFromGUID(zonaCanastaE2_C01_GUID)\r\nzonaCanastaE2_C02 = getObjectFromGUID(zonaCanastaE2_C02_GUID)\r\nzonaCanastaE2_C03 = getObjectFromGUID(zonaCanastaE2_C03_GUID)\r\nzonaCanastaE2_C04 = getObjectFromGUID(zonaCanastaE2_C04_GUID)\r\nzonaCanastaE2_C05 = getObjectFromGUID(zonaCanastaE2_C05_GUID)\r\nzonaCanastaE2_C06 = getObjectFromGUID(zonaCanastaE2_C06_GUID)\r\nzonaCanastaE2_C07 = getObjectFromGUID(zonaCanastaE2_C07_GUID)\r\nzonaCanastaE2_C08 = getObjectFromGUID(zonaCanastaE2_C08_GUID)\r\nzonaCanastaE2_C09 = getObjectFromGUID(zonaCanastaE2_C09_GUID)\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nZonaCerradaE2_C01 = getObjectFromGUID(zonaCerradaE2_C01_GUID)\r\nZonaCerradaE2_C02 = getObjectFromGUID(zonaCerradaE2_C02_GUID)\r\nZonaCerradaE2_C03 = getObjectFromGUID(zonaCerradaE2_C03_GUID)\r\nZonaCerradaE2_C04 = getObjectFromGUID(zonaCerradaE2_C04_GUID)\r\nZonaCerradaE2_C05 = getObjectFromGUID(zonaCerradaE2_C05_GUID)\r\nZonaCerradaE2_C06 = getObjectFromGUID(zonaCerradaE2_C06_GUID)\r\nZonaCerradaE2_C07 = getObjectFromGUID(zonaCerradaE2_C07_GUID)\r\nZonaCerradaE2_C08 = getObjectFromGUID(zonaCerradaE2_C08_GUID)\r\n-------------------------Flores------------\r\nZonaCerradaE2_F01 = getObjectFromGUID(zonaCerradaE2_F01_GUID)\r\nZonaCerradaE2_F02 = getObjectFromGUID(zonaCerradaE2_F02_GUID)\r\nZonaCerradaE2_F03 = getObjectFromGUID(zonaCerradaE2_F03_GUID)\r\nZonaCerradaE2_F04 = getObjectFromGUID(zonaCerradaE2_F04_GUID)\r\n-------------------------------------------\r\n\r\n    ---------------------------------------------------------------------\r\n    -------------------GENERANDO BLOQUES DE ZONAS------------------------\r\n    ----------------------- Equipo 1----------------------\r\n    zonasCanastaE1 = {zonaCanastaE1_C01, zonaCanastaE1_C02,\r\n    zonaCanastaE1_C03, zonaCanastaE1_C04, zonaCanastaE1_C05,\r\n    zonaCanastaE1_C06, zonaCanastaE1_C07, zonaCanastaE1_C08,\r\n    zonaCanastaE1_C09}\r\n\r\n    zonasCerradasE1 = {zonaCerradaE1_C01,zonaCerradaE1_C02,\r\n    zonaCerradaE1_C03,zonaCerradaE1_C04,zonaCerradaE1_C05,\r\n    zonaCerradaE1_C06,zonaCerradaE1_C07,zonaCerradaE1_C08}\r\n\r\n    zonasFloresE1 = {ZonaCerradaE1_F01,ZonaCerradaE1_F02,\r\n    ZonaCerradaE1_F03,ZonaCerradaE1_F04}\r\n    ----------------------- Equipo 2----------------------\r\n    zonasCanastaE2 = {zonaCanastaE2_C01, zonaCanastaE2_C02,\r\n    zonaCanastaE2_C03, zonaCanastaE2_C04, zonaCanastaE2_C05,\r\n    zonaCanastaE2_C06, zonaCanastaE2_C07, zonaCanastaE2_C08,\r\n    zonaCanastaE2_C09}\r\n\r\n    zonasCerradasE2 = {zonaCerradaE2_C01,zonaCerradaE2_C02,\r\n    zonaCerradaE2_C03,zonaCerradaE2_C04,zonaCerradaE2_C05,\r\n    zonaCerradaE2_C06,zonaCerradaE2_C07,zonaCerradaE2_C08}\r\n\r\n    zonasFloresE2 = {ZonaCerradaE2_F01,ZonaCerradaE2_F02,\r\n    ZonaCerradaE2_F03,ZonaCerradaE2_F04}\r\n    ---------------------------------------------------------------------\r\n\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_objects\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_objects\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01 = getObjectFromGUID(bloque_canasta_E1_C01_GUID)\r\nbloque_canasta_E1_C02 = getObjectFromGUID(bloque_canasta_E1_C02_GUID)\r\nbloque_canasta_E1_C03 = getObjectFromGUID(bloque_canasta_E1_C03_GUID)\r\nbloque_canasta_E1_C04 = getObjectFromGUID(bloque_canasta_E1_C04_GUID)\r\nbloque_canasta_E1_C05 = getObjectFromGUID(bloque_canasta_E1_C05_GUID)\r\nbloque_canasta_E1_C06 = getObjectFromGUID(bloque_canasta_E1_C06_GUID)\r\nbloque_canasta_E1_C07 = getObjectFromGUID(bloque_canasta_E1_C07_GUID)\r\nbloque_canasta_E1_C08 = getObjectFromGUID(bloque_canasta_E1_C08_GUID)\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01 = getObjectFromGUID(bloque_canasta_E2_C01_GUID)\r\nbloque_canasta_E2_C02 = getObjectFromGUID(bloque_canasta_E2_C02_GUID)\r\nbloque_canasta_E2_C03 = getObjectFromGUID(bloque_canasta_E2_C03_GUID)\r\nbloque_canasta_E2_C04 = getObjectFromGUID(bloque_canasta_E2_C04_GUID)\r\nbloque_canasta_E2_C05 = getObjectFromGUID(bloque_canasta_E2_C05_GUID)\r\nbloque_canasta_E2_C06 = getObjectFromGUID(bloque_canasta_E2_C06_GUID)\r\nbloque_canasta_E2_C07 = getObjectFromGUID(bloque_canasta_E2_C07_GUID)\r\nbloque_canasta_E2_C08 = getObjectFromGUID(bloque_canasta_E2_C08_GUID)\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01 = getObjectFromGUID(bloque_canasta_tipo_E1_C01_GUID)\r\nbloque_canasta_tipo_E1_C02 = getObjectFromGUID(bloque_canasta_tipo_E1_C02_GUID)\r\nbloque_canasta_tipo_E1_C03 = getObjectFromGUID(bloque_canasta_tipo_E1_C03_GUID)\r\nbloque_canasta_tipo_E1_C04 = getObjectFromGUID(bloque_canasta_tipo_E1_C04_GUID)\r\nbloque_canasta_tipo_E1_C05 = getObjectFromGUID(bloque_canasta_tipo_E1_C05_GUID)\r\nbloque_canasta_tipo_E1_C06 = getObjectFromGUID(bloque_canasta_tipo_E1_C06_GUID)\r\nbloque_canasta_tipo_E1_C07 = getObjectFromGUID(bloque_canasta_tipo_E1_C07_GUID)\r\nbloque_canasta_tipo_E1_C08 = getObjectFromGUID(bloque_canasta_tipo_E1_C08_GUID)\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01 = getObjectFromGUID(bloque_canasta_tipo_E2_C01_GUID)\r\nbloque_canasta_tipo_E2_C02 = getObjectFromGUID(bloque_canasta_tipo_E2_C02_GUID)\r\nbloque_canasta_tipo_E2_C03 = getObjectFromGUID(bloque_canasta_tipo_E2_C03_GUID)\r\nbloque_canasta_tipo_E2_C04 = getObjectFromGUID(bloque_canasta_tipo_E2_C04_GUID)\r\nbloque_canasta_tipo_E2_C05 = getObjectFromGUID(bloque_canasta_tipo_E2_C05_GUID)\r\nbloque_canasta_tipo_E2_C06 = getObjectFromGUID(bloque_canasta_tipo_E2_C06_GUID)\r\nbloque_canasta_tipo_E2_C07 = getObjectFromGUID(bloque_canasta_tipo_E2_C07_GUID)\r\nbloque_canasta_tipo_E2_C08 = getObjectFromGUID(bloque_canasta_tipo_E2_C08_GUID)\r\n\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_objects\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_objects\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1 = getObjectFromGUID(contador_puntos_canastas_E1_GUID)\r\ncontador_puntos_canastas_E2 = getObjectFromGUID(contador_puntos_canastas_E2_GUID)\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1 = getObjectFromGUID(contador_puntos_total_E1_GUID)\r\ncontador_puntos_total_E2 = getObjectFromGUID(contador_puntos_total_E2_GUID)\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda = getObjectFromGUID(contador_ronda_GUID)\r\n\r\n-- Bloqueamos contadores\r\ncontador_puntos_canastas_E1.interactable = false\r\ncontador_puntos_canastas_E2.interactable = false\r\ncontador_puntos_total_E1.interactable = false\r\ncontador_puntos_total_E2.interactable = false\r\n\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_objects\n\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/variables_ocultas\n\r\n-- Variable para apagar las zonas de captura de canastas\r\nvariable_zona_canastas_GUID = 'b847c2'\r\nvariable_zona_canastas = getObjectFromGUID(variable_zona_canastas_GUID)\r\n\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/variables_ocultas\n\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_jugadores\n-- JUGADORES\r\nJugador_1_E1 = Player[\"Blue\"]\r\nJugador_2_E1 = Player[\"Yellow\"]\r\nJugador_1_E2 = Player[\"Green\"]\r\nJugador_2_E2 = Player[\"Red\"]\r\n\r\nJugador_1_E1_color = \"Blue\"\r\nJugador_2_E1_color = \"Yellow\"\r\nJugador_1_E2_color = \"Green\"\r\nJugador_2_E2_color = \"Red\"\r\n\n----    #include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_jugadores\n\n    -- CANASTAS\n    salidaE1 = {}\n    salidaE2 = {}\n\n    -- SCRIPT ZONAS DE CANASTAS\n    nObjetosActualE1 = {}\n    nObjetosActualE2 = {}\n    tipo_canasta_E1 = {}\n    tipo_canasta_E2 = {}\n    activar_colocacion_E1 = {}\n    activar_colocacion_E2 = {}\n\n    for i, zona in pairs(zonasCanastaE1) do\n      nObjetosActualE1[i] = #(zona.getObjects())\n      tipo_canasta_E1[i] = ''\n      activar_colocacion_E1[i] = 0\n      salidaE1[i] = {}\n    end\n    for i, zona in pairs(zonasCanastaE2) do\n      nObjetosActualE2[i] = #(zona.getObjects())\n      tipo_canasta_E2[i] = ''\n      activar_colocacion_E2[i] = 0\n      salidaE2[i] = {}\n    end\n\n    for i, zona in pairs(zonasCanastaE1) do\n      salidaE1[i][1] = nObjetosActualE1[i]\n      salidaE1[i][2] = tipo_canasta_E1[i]\n      salidaE1[i][3] = activar_colocacion_E1[i]\n    end\n    for i, zona in pairs(zonasCanastaE2) do\n      salidaE2[i][1] = nObjetosActualE2[i]\n      salidaE2[i][2] = tipo_canasta_E2[i]\n      salidaE2[i][3] = activar_colocacion_E2[i]\n    end\n\n\n    -- FLORES\n    salidaF1 = {}\n    salidaF2 = {}\n\n    posicionZonaF1   = {}\n    nObjetosActualF1 = {}\n    posicionZonaF2   = {}\n    nObjetosActualF2 = {}\n    carta_actualF1 = {}\n    carta_actualF2 = {}\n\n    for i, zona in pairs(zonasFloresE1) do\n      posicionZonaF1.i = zona.getPosition()\n      nObjetosActualF1[i] = #(zona.getObjects())\n      carta_actualF1[i] = 'no_flor'\n      salidaF1[i] = {}\n    end\n    for i, zona in pairs(zonasFloresE2) do\n      posicionZonaF2.i = zona.getPosition()\n      nObjetosActualF2[i] = #(zona.getObjects())\n      carta_actualF1[i] = 'no_flor'\n      salidaF2[i] = {}\n    end\n\n    for i, zona in pairs(zonasFloresE1) do\n      salidaF1[i][1] = nObjetosActualF1[i]\n      salidaF1[i][2] = carta_actualF1[i]\n    end\n    for i, zona in pairs(zonasFloresE2) do\n      salidaF2[i][1] = nObjetosActualF2[i]\n      salidaF2[i][2] = carta_actualF2[i]\n    end\n\n\nend\n\nfunction onUpdate()\n\n  -- FLORES\n  for i,zona in ipairs(zonasFloresE1) do\n    salidaF1[i] = colocarFloresEnZona(salidaF1[i],zona,1)\n  end\n  for i,zona in ipairs(zonasFloresE2) do\n    salidaF2[i] = colocarFloresEnZona(salidaF2[i],zona,2)\n  end\n  -- CANASTAS\n  for i,zona in ipairs(zonasCanastaE1) do\n    salidaE1[i] = colocaCartasEnZona_v3(salidaE1[i],zona)\n  end\n  for i,zona in ipairs(zonasCanastaE2) do\n    salidaE2[i] = colocaCartasEnZona_v3(salidaE2[i],zona)\n  end\n\nend",
  "LuaScriptState": "",
  "MusicPlayer": {
    "RepeatSong": false,
    "PlaylistEntry": -1,
    "CurrentAudioTitle": "Unknown Title",
    "CurrentAudioURL": "http://cloud-3.steamusercontent.com/ugc/770602914748073699/96FAA80AA742D5C0D6CCFC94CFC9DEA28AE9945C/",
    "AudioLibrary": []
  },
  "Grid": {
    "Type": 0,
    "Lines": false,
    "Color": {
      "r": 0.0,
      "g": 0.0,
      "b": 0.0
    },
    "Opacity": 0.75,
    "ThickLines": false,
    "Snapping": false,
    "Offset": false,
    "BothSnapping": false,
    "xSize": 2.0,
    "ySize": 2.0,
    "PosOffset": {
      "x": 0.0,
      "y": 1.0,
      "z": 0.0
    }
  },
  "Lighting": {
    "LightIntensity": 0.54,
    "LightColor": {
      "r": 1.0,
      "g": 0.9804,
      "b": 0.8902
    },
    "AmbientIntensity": 1.3,
    "AmbientType": 0,
    "AmbientSkyColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "AmbientEquatorColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "AmbientGroundColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "ReflectionIntensity": 1.0,
    "LutIndex": 0,
    "LutContribution": 1.0
  },
  "Hands": {
    "Enable": true,
    "DisableUnused": false,
    "Hiding": 0,
    "HandTransforms": [
      {
        "Color": "Red",
        "Transform": {
          "posX": 0.002922531,
          "posY": 5.95469,
          "posZ": -28.566576,
          "rotX": 0.0,
          "rotY": 0.0,
          "rotZ": 0.0,
          "scaleX": 9.482673,
          "scaleY": 6.6973877,
          "scaleZ": 3.55600476
        }
      },
      {
        "Color": "Yellow",
        "Transform": {
          "posX": -28.6376839,
          "posY": 5.95469,
          "posZ": 0.0,
          "rotX": 0.0,
          "rotY": 90.0,
          "rotZ": 0.0,
          "scaleX": 9.527775,
          "scaleY": 6.6973877,
          "scaleZ": 3.57912254
        }
      },
      {
        "Color": "Blue",
        "Transform": {
          "posX": 28.6145115,
          "posY": 5.95469,
          "posZ": 0.0,
          "rotX": 0.0,
          "rotY": 270.0,
          "rotZ": 0.0,
          "scaleX": 9.53021,
          "scaleY": 6.6973877,
          "scaleZ": 3.57887745
        }
      },
      {
        "Color": "Green",
        "Transform": {
          "posX": 0.0,
          "posY": 5.95469,
          "posZ": 28.6732559,
          "rotX": 0.0,
          "rotY": 180.0,
          "rotZ": 0.0,
          "scaleX": 9.482673,
          "scaleY": 6.6973877,
          "scaleZ": 3.55600476
        }
      }
    ]
  },
  "Turns": {
    "Enable": false,
    "Type": 0,
    "TurnOrder": [],
    "Reverse": false,
    "SkipEmpty": false,
    "DisableInteractions": false,
    "PassTurns": true,
    "TurnColor": ""
  },
  "ObjectStates": [
    {
      "Name": "Counter",
      "Transform": {
        "posX": -2.17340851,
        "posY": 0.33,
        "posZ": -24.0274181,
        "rotX": -8.64345964E-08,
        "rotY": 0.01291748,
        "rotZ": 8.66707353E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.0823529139,
        "g": 0.0823529139,
        "b": 0.0823529139
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Counter": {
        "value": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "784c65"
    },
    {
      "Name": "Counter",
      "Transform": {
        "posX": 4.00274563,
        "posY": 0.33,
        "posZ": -18.600441,
        "rotX": 2.31539047E-06,
        "rotY": 270.0,
        "rotZ": -5.741731E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.0823529139,
        "g": 0.0823529139,
        "b": 0.0823529139
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Counter": {
        "value": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "821d9e"
    },
    {
      "Name": "Counter",
      "Transform": {
        "posX": -3.955615,
        "posY": 0.33,
        "posZ": 18.5818958,
        "rotX": 2.47362732E-06,
        "rotY": 90.00001,
        "rotZ": -8.41423E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.0823529139,
        "g": 0.0823529139,
        "b": 0.0823529139
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Counter": {
        "value": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "5043d9"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 13.1,
        "posY": 1.0,
        "posZ": -7.7,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "db7d7a"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 13.1,
        "posY": 1.0,
        "posZ": -3.97,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "1e1fee"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 13.1,
        "posY": 1.0,
        "posZ": -0.191037744,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "1a0d9d"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 13.1,
        "posY": 1.0,
        "posZ": 3.60375619,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "45f2be"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 13.1,
        "posY": 1.0,
        "posZ": 7.380888,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "65d35b"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 13.1,
        "posY": 1.0,
        "posZ": 11.1448231,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "29035b"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 13.1,
        "posY": 1.0,
        "posZ": 14.9066362,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "1ad7ac"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 13.1,
        "posY": 1.0,
        "posZ": 18.672636,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "875f5e"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 13.1,
        "posY": 1.0,
        "posZ": 22.46793,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "bdafdd"
    },
    {
      "Name": "Counter",
      "Transform": {
        "posX": 2.10822773,
        "posY": 0.33,
        "posZ": -24.0740376,
        "rotX": -8.434916E-06,
        "rotY": 0.009587197,
        "rotZ": -7.67080564E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.0823529139,
        "g": 0.0823529139,
        "b": 0.0823529139
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Counter": {
        "value": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f204af"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -13.0,
        "posY": 1.0,
        "posZ": 7.676786,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "2e09c7"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -13.0,
        "posY": 1.0,
        "posZ": 3.87415934,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "970291"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -13.0,
        "posY": 1.0,
        "posZ": 0.105276108,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "649098"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -13.0,
        "posY": 1.0,
        "posZ": -3.6755538,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "b8caf3"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -13.0,
        "posY": 1.0,
        "posZ": -7.444558,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "e26404"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -13.0,
        "posY": 1.0,
        "posZ": -11.2173986,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "ed78e4"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -12.9962444,
        "posY": 1.0,
        "posZ": -14.9877605,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "ccf4ad"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -13.0,
        "posY": 1.0,
        "posZ": -18.7662735,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "df0ee8"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -13.0,
        "posY": 1.0,
        "posZ": -22.49317,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 10.25
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a6714b"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": -19.00387,
        "posY": 0.7,
        "posZ": 7.697721,
        "rotX": 1.4538081E-07,
        "rotY": 270.017151,
        "rotZ": -5.963435E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 01 - EQUIPO 02\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE2_C01_GUID,2)\r\nend",
      "LuaScriptState": "",
      "GUID": "29a912"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": -19.0,
        "posY": 0.7,
        "posZ": 3.86117864,
        "rotX": -4.02759753E-07,
        "rotY": 270.021454,
        "rotZ": 2.26456464E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 02 - EQUIPO 02\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE2_C02_GUID,2)\r\nend",
      "LuaScriptState": "",
      "GUID": "8c0e4a"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": -19.0,
        "posY": 0.7,
        "posZ": 0.07006383,
        "rotX": -6.738702E-07,
        "rotY": 270.010284,
        "rotZ": 1.95053281E-06,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 03 - EQUIPO 02\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE2_C03_GUID,2)\r\nend",
      "LuaScriptState": "",
      "GUID": "a537ff"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": -18.9999962,
        "posY": 0.7,
        "posZ": -3.633642,
        "rotX": -4.21507565E-07,
        "rotY": 270.010254,
        "rotZ": 3.21258227E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 04 - EQUIPO 02\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE2_C04_GUID,2)\r\nend",
      "LuaScriptState": "",
      "GUID": "6e7c45"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": -19.0,
        "posY": 0.7,
        "posZ": -7.35336161,
        "rotX": -3.22051257E-08,
        "rotY": 270.010284,
        "rotZ": 3.64889E-06,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 05 - EQUIPO 02\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE2_C05_GUID,2)\r\nend",
      "LuaScriptState": "",
      "GUID": "3f1d04"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": -19.0000629,
        "posY": 0.7,
        "posZ": -11.2124367,
        "rotX": 3.468255E-08,
        "rotY": 270.010284,
        "rotZ": -4.909229E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 06 - EQUIPO 02\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE2_C06_GUID,2)\r\nend",
      "LuaScriptState": "",
      "GUID": "e387f9"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": -19.0,
        "posY": 0.7,
        "posZ": -15.0575886,
        "rotX": 3.468255E-08,
        "rotY": 270.010284,
        "rotZ": -4.909229E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 07 - EQUIPO 02\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE2_C07_GUID,2)\r\nend",
      "LuaScriptState": "",
      "GUID": "e0616a"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": -19.0000916,
        "posY": 0.7,
        "posZ": -18.7093563,
        "rotX": 2.17338183E-08,
        "rotY": 270.010284,
        "rotZ": -1.74414907E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 08 - EQUIPO 02\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE2_C08_GUID,2)\r\nend",
      "LuaScriptState": "",
      "GUID": "bc3430"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": -18.9998245,
        "posY": 0.7,
        "posZ": -22.5270882,
        "rotX": -1.54763E-06,
        "rotY": 270.017151,
        "rotZ": -1.34191828E-06,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 09 - EQUIPO 02\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE2_C09_GUID,2)\r\nend",
      "LuaScriptState": "",
      "GUID": "d7692a"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": 19.0047951,
        "posY": 0.700000048,
        "posZ": -7.765028,
        "rotX": 9.211274E-08,
        "rotY": 90.0,
        "rotZ": -3.82443432E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 01 - EQUIPO 01\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\n  agrupar_canasta(zonaCanastaE1_C01_GUID,1)\r\nend",
      "LuaScriptState": "",
      "GUID": "27140a"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": 19.0001,
        "posY": 0.700000048,
        "posZ": -4.01789,
        "rotX": 1.45380938E-07,
        "rotY": 90.0,
        "rotZ": -5.963438E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 02 - EQUIPO 01\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE1_C02_GUID,1)\r\nend",
      "LuaScriptState": "",
      "GUID": "739c47"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": 19.0,
        "posY": 0.700000048,
        "posZ": -0.237298846,
        "rotX": 1.45380938E-07,
        "rotY": 90.0,
        "rotZ": -5.963438E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 03 - EQUIPO 01\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE1_C03_GUID,1)\r\nend",
      "LuaScriptState": "",
      "GUID": "bd276c"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": 19.0,
        "posY": 0.700000048,
        "posZ": 3.602057,
        "rotX": 1.45380938E-07,
        "rotY": 90.0,
        "rotZ": -5.963438E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 04 - EQUIPO 01\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE1_C04_GUID,1)\r\nend",
      "LuaScriptState": "",
      "GUID": "71a4a7"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": 19.0,
        "posY": 0.700000048,
        "posZ": 7.343841,
        "rotX": 1.45380938E-07,
        "rotY": 90.0,
        "rotZ": -5.963438E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 05 - EQUIPO 01\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE1_C05_GUID,1)\r\nend",
      "LuaScriptState": "",
      "GUID": "367e70"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": 19.0,
        "posY": 0.700000048,
        "posZ": 11.0745134,
        "rotX": 1.45380938E-07,
        "rotY": 90.0,
        "rotZ": -5.963438E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 06 - EQUIPO 01\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE1_C06_GUID,1)\r\nend",
      "LuaScriptState": "",
      "GUID": "b4c3e4"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": 19.0,
        "posY": 0.700000048,
        "posZ": 14.886425,
        "rotX": 1.45380938E-07,
        "rotY": 90.0,
        "rotZ": -5.963438E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 07 - EQUIPO 01\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE1_C07_GUID,1)\r\nend",
      "LuaScriptState": "",
      "GUID": "45a375"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": 19.0,
        "posY": 0.700000048,
        "posZ": 18.6610355,
        "rotX": 1.45381023E-07,
        "rotY": 90.0,
        "rotZ": -5.96343739E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 08 - EQUIPO 01\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE1_C08_GUID,1)\r\nend",
      "LuaScriptState": "",
      "GUID": "c130d7"
    },
    {
      "Name": "Checker_white",
      "Transform": {
        "posX": 19.0,
        "posY": 0.700000048,
        "posZ": 22.4370766,
        "rotX": 1.45380938E-07,
        "rotY": 90.0,
        "rotZ": -5.963438E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN CANASTA 09 - EQUIPO 01\r\n---------------------------------\r\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\nfunction recoger_mesa()\r\n  print('')\r\nend\r\n\r\n\r\nfunction detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n\r\n  -- Variable de salida\r\n  tipo_canasta = {}\r\n  Nmonos = {}\r\n\r\n  -- Detectar cartas que forman la canasta\r\n  Nmonos = 0\r\n  C_oculta = ''\r\n\r\n  for k = 1,Ncartas do\r\n\r\n    carta        = cartas_en_zona[k]\r\n    carta_name   = carta.getName()\r\n\r\n    carta2letra = carta_name.sub(carta_name,2,3)\r\n\r\n    if carta2letra == 'ok' then\r\n      carta_palo = 'Joker'\r\n      carta_numero = 'Joker'\r\n    elseif carta_name == 'Oculta' then\r\n      carta_palo = 'Oculta'\r\n      carta_numero = 'Oculta'\r\n      C_oculta = 'oculta'\r\n    elseif carta_name == 'Oculta Apoyada' then\r\n      carta_palo = 'Oculta Apoyada'\r\n      carta_numero = 'Oculta Apoyada'\r\n      C_oculta = 'oculta_apoyada'\r\n    else\r\n      carta_palo   = carta_name.sub(carta_name,-1)\r\n      carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n    end\r\n\r\n    if carta_numero == '2' or carta_palo == 'Joker' then\r\n      Nmonos = Nmonos + 1\r\n    end\r\n\r\n\r\n  end\r\n\r\n  -- Detectamos tipo de canasta\r\n  if Nmonos >= 1 and Nmonos < 7 then\r\n    tipo_canasta[1] = 'sucia'\r\n  elseif Nmonos == 0 then\r\n    tipo_canasta[1] = 'limpia'\r\n  elseif Nmonos == 7 then\r\n    tipo_canasta[1] = 'monos'\r\n  end\r\n\r\n  -- Guardamos variables\r\n  tipo_canasta[2] = Nmonos\r\n  tipo_canasta[3] = C_oculta\r\n\r\n  return tipo_canasta\r\n\r\nend\r\n\r\nfunction detectar_flores_colocadas(Equipo)\r\n\r\n  local Nflores = 0\r\n\r\n  -- Zonas de flores - Contabilizamos\r\n  zona_F_name = {}\r\n  zona_F_obj  = {}\r\n\r\n  for k = 1,4 do\r\n\r\n    zona_F_name[k] = 'zonaCerradaE' .. Equipo .. '_F0' .. k .. '_GUID'\r\n    zona_F_obj[k]  = getObjectFromGUID(_G[zona_F_name[k]])\r\n\r\n    cartas_F  = zona_F_obj[k].getObjects()\r\n    Ncarta_F = #cartas_F\r\n\r\n    if Ncarta_F == 1 then\r\n      cartaF_name = cartas_F[1].getName()\r\n      if cartaF_name == '3r' or cartaF_name == '3c' then\r\n        Nflores = Nflores + 1\r\n      end\r\n    end\r\n\r\n  end\r\n\r\n  return Nflores\r\n\r\nend\r\n\r\nfunction actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n  CN = {}\r\n  CN[1] = 'contador_puntos_canastas_E'\r\n  CN[2] = '_GUID'\r\n\r\n  contador_objetivo_GUID = CN[1] .. Equipo .. CN[2]\r\n  contador_objetivo = getObjectFromGUID(_G[contador_objetivo_GUID])\r\n\r\n  -- Puntuación actual\r\n  puntuacion_actual = contador_objetivo.getValue()\r\n\r\n  -- Flores\r\n  Nflores = detectar_flores_colocadas(Equipo)\r\n\r\n  if Nflores > 0 and puntuacion_actual <= 0 then\r\n  -- Corregimos puntuación de flores si se da el caso\r\n    if Nflores < 4 then\r\n      puntuacion_actual = puntuacion_actual + 2*Nflores*100\r\n    elseif Nflores == 4 then\r\n      puntuacion_actual = puntuacion_actual + 1600\r\n    end\r\n  end\r\n\r\n  -- Según el tipo de canasta...\r\n  if C_oculta == 'oculta' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 800\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 1000\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2500\r\n    end\r\n  elseif C_oculta == 'oculta_apoyada' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    end\r\n  elseif C_oculta == '' then\r\n    if canasta_tipo == 'sucia' then\r\n      puntuacion = 300\r\n    elseif canasta_tipo == 'limpia' then\r\n      puntuacion = 500\r\n    elseif canasta_tipo == 'monos' then\r\n      puntuacion = 2000\r\n    end\r\n  end\r\n\r\n  -- Actualizamos\r\n  puntuacion_nueva = puntuacion_actual + puntuacion\r\n  contador_objetivo.setValue(puntuacion_nueva)\r\n\r\nend\r\n\r\n\r\nfunction bloque_nombre(C,Equipo,Canasta)\r\n  nombre = C[1] .. Equipo .. C[2] .. Canasta .. C[3]\r\n  return nombre\r\nend\r\n\r\n\r\n\r\n\r\n_G['agrupar_canasta'] = function(zonaCanasta,Equipo)\r\n\r\n    -- Buscamos zona objetivo para colocar canastas\r\n    C = {}\r\n    C[1] = 'zonaCerradaE'\r\n    C[2] = '_C0'\r\n    C[3] = '_GUID'\r\n\r\n    B1 = {}\r\n    B1[1] = 'bloque_canasta_E'\r\n    B1[2] = '_C0'\r\n    B1[3] = '_GUID'\r\n\r\n    B2 = {}\r\n    B2[1] = 'bloque_canasta_tipo_E'\r\n    B2[2] = '_C0'\r\n    B2[3] = '_GUID'\r\n\r\n    zona_vacia = 0\r\n    cont = 1\r\n\r\n    --Buscamos zona vacia\r\n    while zona_vacia == 0 do\r\n      Canasta_Cerrada_Name = bloque_nombre(C,Equipo,cont)\r\n      zona_objetivo        = getObjectFromGUID(_G[Canasta_Cerrada_Name])\r\n      zona_objetivo_cont   = zona_objetivo.getObjects()\r\n      if zona_objetivo_cont[3] == nil then\r\n        zona_vacia = cont\r\n      else\r\n        cont = cont + 1\r\n      end\r\n    end\r\n\r\n    --Zona Objetivo\r\n    zona_objetivo_GUID = bloque_nombre(C,Equipo,zona_vacia)\r\n    zona_objetivo = getObjectFromGUID(_G[zona_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_GUID = bloque_nombre(B1,Equipo,zona_vacia)\r\n    bloque_objetivo = getObjectFromGUID(_G[bloque_objetivo_GUID])\r\n\r\n    --Base en Zona Objetivo\r\n    bloque_objetivo_tipo_GUID = bloque_nombre(B2,Equipo,zona_vacia)\r\n    bloque_objetivo_tipo = getObjectFromGUID(_G[bloque_objetivo_tipo_GUID])\r\n\r\n    --Zona canasta\r\n    zona_canasta_GUID = zonaCanasta\r\n    zona_canasta = getObjectFromGUID(zona_canasta_GUID)\r\n\r\n    --Posición de zona objetivo\r\n    pos_obj  = zona_objetivo.getPosition()\r\n    pos_obj  = {pos_obj[1],pos_obj[2],pos_obj[3]}\r\n    pos_objP = {pos_obj[1],pos_obj[2]+1,pos_obj[3]}\r\n\r\n    --Adquirimos cartas de la zona\r\n    cartas_en_zona = zona_canasta.getObjects()\r\n    Ncartas = #cartas_en_zona\r\n\r\n    --Tipo de canasta\r\n    tipo_canasta = detectar_tipo_canasta(cartas_en_zona,Ncartas)\r\n    canasta_tipo = tipo_canasta[1]\r\n    Nmonos = tipo_canasta[2]\r\n    C_oculta = tipo_canasta[3]\r\n\r\n    -- Según la canasta detectada\r\n    if Ncartas >= 7 then\r\n\r\n      -- Desbloqueamos cartas_en_zona\r\n      for k = 1,Ncartas do\r\n          cartas_en_zona[k].setLock(false)\r\n      end\r\n\r\n      --Detectamos carta que irá en primera posición\r\n      carta_a_mover = 0\r\n      carta_abajo = 0\r\n\r\n      for k = 1,Ncartas do\r\n\r\n        carta        = cartas_en_zona[k]\r\n        carta_name   = carta.getName()\r\n        carta_palo   = carta_name.sub(carta_name,-1)\r\n        carta_numero = carta_name.sub(carta_name,1,#carta_name-1)\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          if ((carta_palo == 't') or (carta_palo == 'p')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'limpia' then\r\n          if ((carta_palo == 'c') or (carta_palo == 'r')) then\r\n            if carta_numero ~= '2' then\r\n              carta_a_mover = k\r\n            end\r\n          end\r\n        elseif canasta_tipo == 'monos' then\r\n          if carta_numero == '2' then\r\n              carta_a_mover = k\r\n          end\r\n        end\r\n\r\n        if C_oculta ~= '' then\r\n          if carta_name == 'oculta' or carta_name == 'oculta_apoyada' then\r\n            carta_abajo = k\r\n          end\r\n        end\r\n\r\n      end\r\n\r\n      --Si encontramos carta adecuada, colocamos en objetivo\r\n      if carta_a_mover > 0 then\r\n\r\n        for k = 1,Ncartas do\r\n          if k ~= carta_a_mover then\r\n            carta = cartas_en_zona[k]\r\n            carta.setPosition(pos_obj)\r\n          end\r\n        end\r\n\r\n        --Ponemos la última carta encima\r\n        carta = cartas_en_zona[carta_a_mover]\r\n        carta.setPosition(pos_objP)\r\n\r\n        -- Según tipo de canasta, coloreamos base\r\n        if C_oculta == 'oculta_apoyada' then\r\n          bloque_objetivo.setColorTint({0.173,0.341,0.553})\r\n        elseif C_oculta == 'oculta' then\r\n          bloque_objetivo.setColorTint({0.439,0.173,0.553})\r\n        elseif C_oculta == '' then\r\n          bloque_objetivo.setColorTint({0.8,0.8,0.8})\r\n        end\r\n\r\n        if canasta_tipo == 'sucia' then\r\n          bloque_objetivo_tipo.setColorTint({0.270, 0.270, 0.270})\r\n        elseif canasta_tipo == 'limpia' then\r\n          bloque_objetivo_tipo.setColorTint({0.654, 0.047, 0.086})\r\n        elseif canasta_tipo == 'monos' then\r\n          bloque_objetivo_tipo.setColorTint({0.039, 0.533, 0.023})\r\n        end\r\n\r\n      end\r\n\r\n      -- Actualizamos contador de puntos de canastas\r\n      actualizar_puntos_canastas(Equipo,C_oculta,canasta_tipo)\r\n\r\n    elseif Ncartas > 0 then\r\n\r\n      --La canasta está incompleta\r\n      mensaje1 = 'Canasta incompleta, faltan '\r\n      mensaje2 = mensaje1 .. (7-Ncartas)\r\n      mensaje3 = mensaje2 .. ' cartas'\r\n      printToAll(mensaje3, {r=1,g=0,b=0})\r\n\r\n    elseif Ncartas == 0 then\r\n\r\n      --La canasta está sin empezar\r\n      printToAll('Canasta sin empezar', {r=1,g=0,b=0})\r\n\r\n    end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/funciones_boton\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='CERRAR',\r\n    click_function='pulsar_boton',\r\n    function_owner=self,\r\n    position={0,0.3,0},\r\n    height=300,\r\n    width=500,\r\n    font_size=90,\r\n    tooltip = 'Cerrar canasta',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton()\r\n  agrupar_canasta(zonaCanastaE1_C09_GUID,1)\r\nend",
      "LuaScriptState": "",
      "GUID": "de3eff"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 8.7,
        "posY": 1.0,
        "posZ": -21.6,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.53627968
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "2ef863"
    },
    {
      "Name": "3DText",
      "Transform": {
        "posX": 2.05054975,
        "posY": 0.961139441,
        "posZ": -22.1642418,
        "rotX": 90.0,
        "rotY": 0.4644612,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Text": {
        "Text": "Equipo 1",
        "colorstate": {
          "r": 0.627,
          "g": 0.125,
          "b": 0.941
        },
        "fontSize": 48
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "4c1727"
    },
    {
      "Name": "3DText",
      "Transform": {
        "posX": -2.13091469,
        "posY": 0.961139441,
        "posZ": -22.11311,
        "rotX": 90.0,
        "rotY": -1.19091062E-07,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Text": {
        "Text": "Equipo 2",
        "colorstate": {
          "r": 0.627,
          "g": 0.125,
          "b": 0.941
        },
        "fontSize": 48
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "4371a2"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 8.7,
        "posY": 1.0,
        "posZ": -18.7021484,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.524316
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "880f29"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 13.0,
        "posY": 1.0,
        "posZ": -21.6,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.48664165
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f2b64b"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 13.0,
        "posY": 1.0,
        "posZ": -18.7,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.47534823
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "1359fa"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 17.3,
        "posY": 1.0,
        "posZ": -21.6,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.50581336
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "8463b8"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 17.3,
        "posY": 1.0,
        "posZ": -18.7,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.43655849
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "04dcae"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 21.6,
        "posY": 1.0,
        "posZ": -21.6,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.53050327
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "1ef3ec"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 21.6,
        "posY": 1.0,
        "posZ": -18.7,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.425666
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "da892d"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 8.69278,
        "posY": 1.0,
        "posZ": -15.4811029,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.30585384,
        "scaleY": 1.0,
        "scaleZ": 3.5698278
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "ed889e"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 13.0199623,
        "posY": 1.0,
        "posZ": -15.4788437,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.30231667,
        "scaleY": 1.0,
        "scaleZ": 3.47655
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "9f2a5d"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 17.3140945,
        "posY": 1.0,
        "posZ": -15.4794216,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.30116129,
        "scaleY": 1.0,
        "scaleZ": 3.490154
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "0b88c3"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 21.5851212,
        "posY": 1.0,
        "posZ": -15.4905643,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 2.27888513,
        "scaleY": 1.0,
        "scaleZ": 3.496993
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "5883a5"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -8.7,
        "posY": 1.0,
        "posZ": 21.6,
        "rotX": 0.0,
        "rotY": 90.27507,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.58
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "8ebbc8"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -8.7,
        "posY": 1.0,
        "posZ": 18.7,
        "rotX": 0.0,
        "rotY": 90.27507,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.58
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "7283e5"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -8.699816,
        "posY": 1.0,
        "posZ": 15.4883718,
        "rotX": 0.0,
        "rotY": 90.27507,
        "rotZ": 0.0,
        "scaleX": 2.28325415,
        "scaleY": 1.0,
        "scaleZ": 3.58
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "4e6a03"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -13.0,
        "posY": 1.0,
        "posZ": 21.6,
        "rotX": 0.0,
        "rotY": 90.27507,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.58
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "8279ef"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -13.0,
        "posY": 1.0,
        "posZ": 18.7,
        "rotX": 0.0,
        "rotY": 90.27507,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.58
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "3493a2"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -12.9998293,
        "posY": 1.0,
        "posZ": 15.4856129,
        "rotX": 0.0,
        "rotY": 90.27507,
        "rotZ": 0.0,
        "scaleX": 2.28877258,
        "scaleY": 1.0,
        "scaleZ": 3.58
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "e54478"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -17.3,
        "posY": 1.0,
        "posZ": 21.6,
        "rotX": 0.0,
        "rotY": 90.27507,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.58
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "e67d0f"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -17.3,
        "posY": 1.0,
        "posZ": 18.7,
        "rotX": 0.0,
        "rotY": 90.27507,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.58
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "07c6a3"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -17.2998142,
        "posY": 1.0,
        "posZ": 15.4887123,
        "rotX": 0.0,
        "rotY": 90.27507,
        "rotZ": 0.0,
        "scaleX": 2.2825737,
        "scaleY": 1.0,
        "scaleZ": 3.58
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f2eba4"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -21.6,
        "posY": 1.0,
        "posZ": 21.6,
        "rotX": 0.0,
        "rotY": 90.27507,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.58
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "d2e8d9"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -21.6,
        "posY": 1.0,
        "posZ": 18.7,
        "rotX": 0.0,
        "rotY": 90.27507,
        "rotZ": 0.0,
        "scaleX": 2.36,
        "scaleY": 1.0,
        "scaleZ": 3.58
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "abfa5d"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -21.5913754,
        "posY": 1.0,
        "posZ": 15.4898043,
        "rotX": 0.0,
        "rotY": 90.27507,
        "rotZ": 0.0,
        "scaleX": 2.2803092,
        "scaleY": 1.0,
        "scaleZ": 3.59686852
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "4889e2"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 8.7,
        "posY": 0.5,
        "posZ": -18.7021484,
        "rotX": 1.32589648E-07,
        "rotY": 89.9561539,
        "rotZ": 2.16261583E-07,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "32bf01"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 8.697875,
        "posY": 0.5,
        "posZ": -21.603796,
        "rotX": -2.008134E-07,
        "rotY": 89.98928,
        "rotZ": -8.979596E-08,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "6f139a"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 13.0,
        "posY": 0.5,
        "posZ": -21.6,
        "rotX": 0.00084586133,
        "rotY": 89.99306,
        "rotZ": 0.00118582952,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "ceaefc"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 13.0,
        "posY": 0.5,
        "posZ": -18.7,
        "rotX": -1.08107781E-06,
        "rotY": 90.0000153,
        "rotZ": 3.04697437E-06,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "80526b"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 17.3,
        "posY": 0.5,
        "posZ": -21.6,
        "rotX": 1.00646453E-07,
        "rotY": 90.0000153,
        "rotZ": -5.401473E-08,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "faf549"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 17.3,
        "posY": 0.5,
        "posZ": -18.7,
        "rotX": -8.58902467E-07,
        "rotY": 89.99999,
        "rotZ": 4.36483759E-07,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "39a73f"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 21.6,
        "posY": 0.5,
        "posZ": -21.6,
        "rotX": -9.149368E-07,
        "rotY": 89.99999,
        "rotZ": 3.388688E-07,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "db0e7a"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 21.6,
        "posY": 0.5,
        "posZ": -18.7,
        "rotX": -8.660092E-07,
        "rotY": 89.99999,
        "rotZ": 4.11748971E-07,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "d6933a"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -8.7,
        "posY": 0.5,
        "posZ": 21.6,
        "rotX": 1.2232951E-07,
        "rotY": 90.00003,
        "rotZ": 5.032962E-07,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "485745"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -8.7,
        "posY": 0.5,
        "posZ": 18.7,
        "rotX": 3.87966743E-08,
        "rotY": 90.00003,
        "rotZ": -3.89376964E-07,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f5df8d"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -13.0,
        "posY": 0.5,
        "posZ": 21.6,
        "rotX": 1.30667772E-07,
        "rotY": 90.00003,
        "rotZ": -2.733981E-07,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a970d2"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -13.0,
        "posY": 0.5,
        "posZ": 18.7,
        "rotX": -0.0046862876,
        "rotY": 90.0003,
        "rotZ": 0.0006314508,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "812e44"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -17.3,
        "posY": 0.5,
        "posZ": 21.6,
        "rotX": 3.59984149E-08,
        "rotY": 90.00003,
        "rotZ": -2.431466E-07,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "399d90"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -17.3,
        "posY": 0.5,
        "posZ": 18.7,
        "rotX": -2.84808351E-07,
        "rotY": 89.93111,
        "rotZ": 180.0,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "6d7a78"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -21.6,
        "posY": 0.5,
        "posZ": 21.6,
        "rotX": 1.34260134E-07,
        "rotY": 90.00003,
        "rotZ": -1.132531E-07,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f0f466"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -21.6,
        "posY": 0.5,
        "posZ": 18.7,
        "rotX": 1.21233015E-07,
        "rotY": 90.00003,
        "rotZ": -9.096743E-08,
        "scaleX": 2.7,
        "scaleY": 1.0,
        "scaleZ": 2.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "dc6c83"
    },
    {
      "Name": "BlockSquare",
      "Transform": {
        "posX": 0.0165371578,
        "posY": 1.4600004,
        "posZ": -7.94891167,
        "rotX": 1.08410927E-06,
        "rotY": 180.033157,
        "rotZ": 1.30293745E-06,
        "scaleX": 2.3996172,
        "scaleY": 1.0,
        "scaleZ": 1.55121708
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9264706,
        "g": 0.0,
        "b": 0.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN FINALIZAR RONDA\r\n---------------------------------\r\n-- INCLUDES\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_jugadores\n-- JUGADORES\r\nJugador_1_E1 = Player[\"Blue\"]\r\nJugador_2_E1 = Player[\"Yellow\"]\r\nJugador_1_E2 = Player[\"Green\"]\r\nJugador_2_E2 = Player[\"Red\"]\r\n\r\nJugador_1_E1_color = \"Blue\"\r\nJugador_2_E1_color = \"Yellow\"\r\nJugador_1_E2_color = \"Green\"\r\nJugador_2_E2_color = \"Red\"\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_jugadores\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n-- BASE CANASTA EQUIPO 1 --\r\nbloque_canasta_E1_C01_GUID = '6f139a'\r\nbloque_canasta_E1_C02_GUID = '32bf01'\r\nbloque_canasta_E1_C03_GUID = 'ceaefc'\r\nbloque_canasta_E1_C04_GUID = '80526b'\r\nbloque_canasta_E1_C05_GUID = 'faf549'\r\nbloque_canasta_E1_C06_GUID = '39a73f'\r\nbloque_canasta_E1_C07_GUID = 'db0e7a'\r\nbloque_canasta_E1_C08_GUID = 'd6933a'\r\n\r\n-- BASE CANASTA EQUIPO 2 --\r\nbloque_canasta_E2_C01_GUID = '485745'\r\nbloque_canasta_E2_C02_GUID = 'f5df8d'\r\nbloque_canasta_E2_C03_GUID = 'a970d2'\r\nbloque_canasta_E2_C04_GUID = '812e44'\r\nbloque_canasta_E2_C05_GUID = '399d90'\r\nbloque_canasta_E2_C06_GUID = '6d7a78'\r\nbloque_canasta_E2_C07_GUID = 'f0f466'\r\nbloque_canasta_E2_C08_GUID = 'dc6c83'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 1 -\r\nbloque_canasta_tipo_E1_C01_GUID = '06faf3'\r\nbloque_canasta_tipo_E1_C02_GUID = '2c848f'\r\nbloque_canasta_tipo_E1_C03_GUID = 'b35dc9'\r\nbloque_canasta_tipo_E1_C04_GUID = 'f83701'\r\nbloque_canasta_tipo_E1_C05_GUID = 'eb0137'\r\nbloque_canasta_tipo_E1_C06_GUID = 'd6844a'\r\nbloque_canasta_tipo_E1_C07_GUID = '095259'\r\nbloque_canasta_tipo_E1_C08_GUID = '39ce4c'\r\n\r\n-- BASE CANASTA TIPO - EQUIPO 2 -\r\nbloque_canasta_tipo_E2_C01_GUID = '809966'\r\nbloque_canasta_tipo_E2_C02_GUID = 'a36fe2'\r\nbloque_canasta_tipo_E2_C03_GUID = '6a1079'\r\nbloque_canasta_tipo_E2_C04_GUID = 'ce3a1f'\r\nbloque_canasta_tipo_E2_C05_GUID = '073759'\r\nbloque_canasta_tipo_E2_C06_GUID = 'd426db'\r\nbloque_canasta_tipo_E2_C07_GUID = 'c9fede'\r\nbloque_canasta_tipo_E2_C08_GUID = '095776'\r\n\r\n-- BOTÓN FINALIZAR RONDA\r\nboton_finalizar_ronda_GUID = '5d2de2'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/objetos_GUID\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/contar_puntos\nfunction contar_puntos()\r\n\r\n  -- MANOS DE JUGADORES\r\n  mano1_E1 = Jugador_1_E1.getHandObjects()\r\n  mano2_E1 = Jugador_2_E1.getHandObjects()\r\n  mano1_E2 = Jugador_1_E2.getHandObjects()\r\n  mano2_E2 = Jugador_2_E2.getHandObjects()\r\n\r\n  Ncartas_1_E1 = #mano1_E1\r\n  Ncartas_2_E1 = #mano2_E1\r\n  Ncartas_1_E2 = #mano1_E2\r\n  Ncartas_2_E2 = #mano2_E2\r\n\r\n  -- VARIABLES\r\n  puntosE1 = 0\r\n  puntosE2 = 0\r\n\r\n  puntosE1_mano1 = 0\r\n  puntosE1_mano2 = 0\r\n  puntosE2_mano1 = 0\r\n  puntosE2_mano2 = 0\r\n\r\n  puntosE1_mesa = 0\r\n  puntosE2_mesa = 0\r\n\r\n  -- PUNTOS TOTALES\r\n  contador_puntos_total_E1 = getObjectFromGUID(contador_puntos_total_E1_GUID)\r\n  contador_puntos_total_E2 = getObjectFromGUID(contador_puntos_total_E2_GUID)\r\n\r\n  puntos_total_E1 = contador_puntos_total_E1.getValue()\r\n  puntos_total_E2 = contador_puntos_total_E2.getValue()\r\n\r\n  -- PUNTOS EN LAS MANOS\r\n  for k = 1,Ncartas_1_E1 do\r\n    carta          = mano1_E1[k]\r\n    carta_valor    = carta.getDescription()\r\n    puntosE1_mano1 = puntosE1_mano1 + carta_valor\r\n  end\r\n\r\n  for k = 1,Ncartas_2_E1 do\r\n    carta          = mano2_E1[k]\r\n    carta_valor    = carta.getDescription()\r\n    puntosE1_mano2 = puntosE1_mano2 + carta_valor\r\n  end\r\n\r\n  for k = 1,Ncartas_1_E2 do\r\n    carta          = mano1_E2[k]\r\n    carta_valor    = carta.getDescription()\r\n    puntosE2_mano1 = puntosE2_mano1 + carta_valor\r\n  end\r\n\r\n  for k = 1,Ncartas_2_E2 do\r\n    carta          = mano2_E2[k]\r\n    carta_valor    = carta.getDescription()\r\n    puntosE2_mano2 = puntosE2_mano2 + carta_valor\r\n  end\r\n\r\n  -- PUNTOS EN MESA\r\n  mesaE1 = getObjectFromGUID(zonaCanastaE1_GUID)\r\n  mesaE2 = getObjectFromGUID(zonaCanastaE2_GUID)\r\n  mesaE1_cartas = mesaE1.getObjects()\r\n  mesaE2_cartas = mesaE2.getObjects()\r\n\r\n  NmesaE1 = #mesaE1_cartas\r\n  NmesaE2 = #mesaE2_cartas\r\n\r\n  for k = 1,NmesaE1 do\r\n    carta          = mesaE1_cartas[k]\r\n    carta_valor    = carta.getDescription()\r\n    puntosE1_mesa = puntosE1_mesa + carta_valor\r\n  end\r\n  for i = 1,NmesaE2 do\r\n    carta          = mesaE2_cartas[i]\r\n    carta_valor    = carta.getDescription()\r\n    puntosE2_mesa = puntosE2_mesa + carta_valor\r\n  end\r\n\r\n  -- PUNTOS EN CARTAS DE CANASTAS\r\n  -- EQUIPO 1\r\n  ZonaCerradaE1_C01 = getObjectFromGUID(zonaCerradaE1_C01_GUID)\r\n  ZonaCerradaE1_C02 = getObjectFromGUID(zonaCerradaE1_C02_GUID)\r\n  ZonaCerradaE1_C03 = getObjectFromGUID(zonaCerradaE1_C03_GUID)\r\n  ZonaCerradaE1_C04 = getObjectFromGUID(zonaCerradaE1_C04_GUID)\r\n  ZonaCerradaE1_C05 = getObjectFromGUID(zonaCerradaE1_C05_GUID)\r\n  ZonaCerradaE1_C06 = getObjectFromGUID(zonaCerradaE1_C06_GUID)\r\n  ZonaCerradaE1_C07 = getObjectFromGUID(zonaCerradaE1_C07_GUID)\r\n  ZonaCerradaE1_C08 = getObjectFromGUID(zonaCerradaE1_C08_GUID)\r\n  -- EQUIPO 2\r\n  ZonaCerradaE2_C01 = getObjectFromGUID(zonaCerradaE2_C01_GUID)\r\n  ZonaCerradaE2_C02 = getObjectFromGUID(zonaCerradaE2_C02_GUID)\r\n  ZonaCerradaE2_C03 = getObjectFromGUID(zonaCerradaE2_C03_GUID)\r\n  ZonaCerradaE2_C04 = getObjectFromGUID(zonaCerradaE2_C04_GUID)\r\n  ZonaCerradaE2_C05 = getObjectFromGUID(zonaCerradaE2_C05_GUID)\r\n  ZonaCerradaE2_C06 = getObjectFromGUID(zonaCerradaE2_C06_GUID)\r\n  ZonaCerradaE2_C07 = getObjectFromGUID(zonaCerradaE2_C07_GUID)\r\n  ZonaCerradaE2_C08 = getObjectFromGUID(zonaCerradaE2_C08_GUID)\r\n\r\n  zc1 = 'ZonaCerradaE'\r\n  zc2 = '_C0'\r\n\r\n  equipo = 1\r\n  cerrado_E1 = 0\r\n  cerrado_E2 = 0\r\n\r\n  -- PUNTOS EN CARTAS EN CANASTAS CERRADAS\r\n  for j = 1,2 do\r\n\r\n    puntosv = 'cerrado_E' .. j\r\n\r\n    -- Para cada uno de los 8 montones de canastas, contamos cartas\r\n    for k = 1,8 do\r\n\r\n      zc_name = zc1 .. j .. zc2 .. k\r\n      zc_objects = _G[zc_name].getObjects()\r\n      N_zc = #zc_objects\r\n\r\n      if N_zc > 2 then\r\n\r\n        obj_name = zc_objects[1].name\r\n\r\n        if obj_name ~= 'Deck' or obj_name ~= 'Card' then\r\n          obj_name = zc_objects[2].name\r\n          if obj_name == 'Deck' or obj_name == 'Card' then\r\n            mazo     = zc_objects[2]\r\n            tipomazo = obj_name\r\n          else\r\n            obj_name = zc_objects[3].name\r\n            mazo     = zc_objects[3]\r\n            tipomazo = obj_name\r\n          end\r\n        else\r\n          mazo = zc_objects[1]\r\n          tipomazo = obj_name\r\n        end\r\n\r\n        -- Contamos valores de cartas\r\n        if tipomazo == 'Deck' then\r\n          cartas = mazo.getObjects()\r\n          Ncmazo = #cartas\r\n          for i = 1,Ncmazo do\r\n            valor = cartas[i].description\r\n            if valor ~= '' then\r\n              _G[puntosv] = _G[puntosv] + valor\r\n            end\r\n          end\r\n        else\r\n          valor = mazo.getDescription()\r\n          _G[puntosv] = _G[puntosv] + valor\r\n        end\r\n      end\r\n\r\n    end\r\n\r\n  end\r\n\r\n  -- PUNTOS DE CANASTAS CERRADAS Y FLORES\r\n  contador_puntos_canastas_E1 = getObjectFromGUID(contador_puntos_canastas_E1_GUID)\r\n  contador_puntos_canastas_E2 = getObjectFromGUID(contador_puntos_canastas_E2_GUID)\r\n\r\n  puntos_canastas_E1 = contador_puntos_canastas_E1.getValue()\r\n  puntos_canastas_E2 = contador_puntos_canastas_E2.getValue()\r\n\r\n\r\n  -- CONTABILIZAR PUNTOS\r\n  puntos_base_E1 = puntos_canastas_E1\r\n  puntos_mano_E1 = cerrado_E1 + puntosE1_mesa - puntosE1_mano1 - puntosE1_mano2\r\n  puntos_base_E2 = puntos_canastas_E2\r\n  puntos_mano_E2 = cerrado_E2 + puntosE2_mesa - puntosE2_mano1 - puntosE2_mano2\r\n\r\n  puntos_subtotal_E1 = puntos_base_E1 + puntos_mano_E1\r\n  puntos_subtotal_E2 = puntos_base_E2 + puntos_mano_E2\r\n\r\n  puntos_total_E1 = puntos_total_E1 + puntos_subtotal_E1\r\n  puntos_total_E2 = puntos_total_E2 + puntos_subtotal_E2\r\n\r\n  -- PRESENTAMOS RESULTADOS\r\n  print('')\r\n  print('EQUIPO 1')\r\n  print('puntos_base_E1 = ',puntos_base_E1)\r\n  print('cerrado_E1 = ',cerrado_E1)\r\n  print('puntosE1_mesa = ',puntosE1_mesa)\r\n  print('puntosE1_mano1 = ',puntosE1_mano1)\r\n  print('puntosE1_mano2 = ',puntosE1_mano2)\r\n  print('puntos_mano_E1 = ',puntos_mano_E1)\r\n  print('puntos_subtotal_E1 = ',puntos_subtotal_E1)\r\n  print('puntos_total_E1 = ',puntos_total_E1)\r\n  print('')\r\n  print('EQUIPO 2')\r\n  print('puntos_base_E2 = ',puntos_base_E2)\r\n  print('cerrado_E2 = ',cerrado_E2)\r\n  print('puntosE2_mesa = ',puntosE2_mesa)\r\n  print('puntosE2_mano1 = ',puntosE2_mano1)\r\n  print('puntosE2_mano2 = ',puntosE2_mano2)\r\n  print('puntos_mano_E2 = ',puntos_mano_E2)\r\n  print('puntos_subtotal_E2 = ',puntos_subtotal_E2)\r\n  print('puntos_total_E2 = ',puntos_total_E2)\r\n\r\n  -- AÑADIR A BLOC DE NOTAS\r\n  -- Creamos variables de entrada\r\n  M_puntos_E1 = {}\r\n  M_puntos_E1[1] = puntos_base_E1\r\n  M_puntos_E1[2] = puntos_mano_E1\r\n  M_puntos_E1[3] = puntos_subtotal_E1\r\n  M_puntos_E1[4] = puntos_total_E1\r\n\r\n  M_puntos_E2 = {}\r\n  M_puntos_E2[1] = puntos_base_E2\r\n  M_puntos_E2[2] = puntos_mano_E2\r\n  M_puntos_E2[3] = puntos_subtotal_E2\r\n  M_puntos_E2[4] = puntos_total_E2\r\n\r\n  -- Llamamos a la función que genera los textos para bloc de notas\r\n  texto_escribir = puntos_ronda_notas(M_puntos_E1,M_puntos_E2)\r\n\r\n  -- Editamos block de notas\r\n  paramsE1 = {\r\n      index = 0,\r\n      title = \"PUNTOS\",\r\n      body = texto_escribir,\r\n      color = \"Grey\"\r\n  }\r\n\r\n  editNotebookTab(paramsE1)\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/contar_puntos\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/texto_notas\nfunction puntos_ronda_notas(M_puntos_E1,M_puntos_E2)\r\n\r\n  -- Puntos de los equipos\r\n  puntos_base_E1     = M_puntos_E1[1]\r\n  puntos_mano_E1     = M_puntos_E1[2]\r\n  puntos_subtotal_E1 = M_puntos_E1[3]\r\n  puntos_total_E1    = M_puntos_E1[4]\r\n\r\n  puntos_base_E2     = M_puntos_E2[1]\r\n  puntos_mano_E2     = M_puntos_E2[2]\r\n  puntos_subtotal_E2 = M_puntos_E2[3]\r\n  puntos_total_E2    = M_puntos_E2[4]\r\n\r\n  -- Longitud de los números\r\n  N_E1_1 = string.len(puntos_base_E1)\r\n  N_E1_2 = string.len(puntos_mano_E1)\r\n  N_E1_3 = string.len(puntos_subtotal_E1)\r\n  N_E1_4 = string.len(puntos_total_E1)\r\n\r\n  N_E2_1 = string.len(puntos_base_E2)\r\n  N_E2_2 = string.len(puntos_mano_E2)\r\n  N_E2_3 = string.len(puntos_subtotal_E2)\r\n  N_E2_4 = string.len(puntos_total_E2)\r\n\r\n  -- Texto base\r\n  TBase = {}\r\n  TBase[1] = '----------------------------------------\\n--------------   RONDA 1 -------------\\n----------------------------------------\\n------------  EQUIPO 1 - EQUIPO 2 ---\\n'\r\n  TBase[2] = '        BASE:     '\r\n  TBase[3] = '      MANO:     '\r\n  TBase[4] = 'SUBTOTAL:     '\r\n  TBase[5] = '----------------------------------------\\n'\r\n  TBase[6] = '      TOTAL:     '\r\n  TBase[7] = '          '\r\n\r\n  -- Creamos números para rellenar en tabla\r\n\r\n  -- EQUIPO 1 --\r\n  if N_E1_1 == 1 then\r\n    TN_E1_1 = '   ' .. puntos_base_E1\r\n  elseif N_E1_1 == 2 then\r\n    TN_E1_1 = '  ' .. puntos_base_E1\r\n  elseif N_E1_1 == 3 then\r\n    TN_E1_1 = ' ' .. puntos_base_E1\r\n  elseif N_E1_1 == 4 then\r\n    TN_E1_1 = puntos_base_E1\r\n  end\r\n\r\n  if N_E1_2 == 1 then\r\n    TN_E1_2 = '   ' .. puntos_mano_E1\r\n  elseif N_E1_2 == 2 then\r\n    TN_E1_2 = '  ' .. puntos_mano_E1\r\n  elseif N_E1_2 == 3 then\r\n    TN_E1_2 = ' ' .. puntos_mano_E1\r\n  elseif N_E1_2 == 4 then\r\n    TN_E1_2 = puntos_mano_E1\r\n  end\r\n\r\n  if N_E1_3 == 1 then\r\n    TN_E1_3 = '   ' .. puntos_subtotal_E1\r\n  elseif N_E1_3 == 2 then\r\n    TN_E1_3 = '  ' .. puntos_subtotal_E1\r\n  elseif N_E1_3 == 3 then\r\n    TN_E1_3 = ' ' .. puntos_subtotal_E1\r\n  elseif N_E1_3 == 4 then\r\n    TN_E1_3 = puntos_subtotal_E1\r\n  end\r\n\r\n  if N_E1_4 == 1 then\r\n    TN_E1_4 = '   ' .. puntos_total_E1\r\n  elseif N_E1_4 == 2 then\r\n    TN_E1_4 = '  ' .. puntos_total_E1\r\n  elseif N_E1_4 == 3 then\r\n    TN_E1_4 = ' ' .. puntos_total_E1\r\n  elseif N_E1_4 == 4 then\r\n    TN_E1_4 = puntos_total_E1\r\n  end\r\n\r\n  -- EQUIPO 2 --\r\n  if N_E2_1 == 1 then\r\n    TN_E2_1 = '   ' .. puntos_base_E2\r\n  elseif N_E2_1 == 2 then\r\n    TN_E2_1 = '  ' .. puntos_base_E2\r\n  elseif N_E2_1 == 3 then\r\n    TN_E2_1 = ' ' .. puntos_base_E2\r\n  elseif N_E2_1 == 4 then\r\n    TN_E2_1 = puntos_base_E2\r\n  end\r\n\r\n  if N_E2_2 == 1 then\r\n    TN_E2_2 = '   ' .. puntos_mano_E2\r\n  elseif N_E2_2 == 2 then\r\n    TN_E2_2 = '  ' .. puntos_mano_E2\r\n  elseif N_E2_2 == 3 then\r\n    TN_E2_2 = ' ' .. puntos_mano_E2\r\n  elseif N_E2_2 == 4 then\r\n    TN_E2_2 = puntos_mano_E2\r\n  end\r\n\r\n  if N_E2_3 == 1 then\r\n    TN_E2_3 = '   ' .. puntos_subtotal_E2\r\n  elseif N_E2_3 == 2 then\r\n    TN_E2_3 = '  ' .. puntos_subtotal_E2\r\n  elseif N_E2_3 == 3 then\r\n    TN_E2_3 = ' ' .. puntos_subtotal_E2\r\n  elseif N_E2_3 == 4 then\r\n    TN_E2_3 = puntos_subtotal_E2\r\n  end\r\n\r\n  if N_E2_4 == 1 then\r\n    TN_E2_4 = '   ' .. puntos_total_E2\r\n  elseif N_E2_4 == 2 then\r\n    TN_E2_4 = '  ' .. puntos_total_E2\r\n  elseif N_E2_4 == 3 then\r\n    TN_E2_4 = ' ' .. puntos_total_E2\r\n  elseif N_E2_4 == 4 then\r\n    TN_E2_4 = puntos_total_E2\r\n  end\r\n\r\n  -- Creamos textos a escribir\r\n texto_a_escribir = TBase[1] .. TBase[2] .. TN_E1_1 .. TBase[7] .. TN_E2_1 .. '\\n'\r\n                 .. TBase[3] .. TN_E1_2 .. TBase[7] .. TN_E2_2 .. '\\n'\r\n                 .. TBase[4] .. TN_E1_3 .. TBase[7] .. TN_E2_3 .. '\\n'\r\n                 .. TBase[5]\r\n                 .. TBase[6] .. TN_E1_4 .. TBase[7] .. TN_E2_4 .. '\\n'\r\n                 .. TBase[5]\r\n\r\n  return texto_a_escribir\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/texto_notas\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='FINALIZAR\\nRONDA',\r\n    click_function='pulsar_boton_finalizar',\r\n    function_owner=self,\r\n    position={0,0.5,0},\r\n    height=400,\r\n    width=450,\r\n    font_size=90,\r\n    color={1,1,1},\r\n    tooltip = 'Finalizar ronda - Contar puntos',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton_finalizar()\r\n  contar_puntos()\r\nend",
      "LuaScriptState": "",
      "GUID": "5d2de2"
    },
    {
      "Name": "BlockSquare",
      "Transform": {
        "posX": 0.0116444826,
        "posY": 1.45999992,
        "posZ": -6.17224026,
        "rotX": 2.31952157E-07,
        "rotY": 180.015182,
        "rotZ": -2.5514737E-07,
        "scaleX": 2.3996172,
        "scaleY": 1.0,
        "scaleZ": 1.55121708
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9264706,
        "g": 0.0,
        "b": 0.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN FINALIZAR RONDA\r\n---------------------------------\r\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='EMPEZAR\\nRONDA',\r\n    click_function='pulsar_boton2',\r\n    function_owner=self,\r\n    position={0,0.5,0},\r\n    height=400,\r\n    width=450,\r\n    font_size=90,\r\n    color={1,1,1},\r\n    tooltip = 'Empezar ronda - Repartir',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton2()\r\n  print('Prueba')\r\nend",
      "LuaScriptState": "",
      "GUID": "ce0a1f"
    },
    {
      "Name": "Counter",
      "Transform": {
        "posX": -0.0510496162,
        "posY": 0.94125,
        "posZ": -21.3995781,
        "rotX": -7.316679E-07,
        "rotY": -0.00133017125,
        "rotZ": 3.12972759E-07,
        "scaleX": 0.625000358,
        "scaleY": 0.625000358,
        "scaleZ": 0.625000358
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.0823529139,
        "g": 0.0823529139,
        "b": 0.0823529139
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Counter": {
        "value": 0
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a17f07"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 12.9333382,
        "posY": 1.458395,
        "posZ": 7.28452349,
        "rotX": 0.0,
        "rotY": 359.66684,
        "rotZ": 0.0,
        "scaleX": 11.1993494,
        "scaleY": 1.0,
        "scaleZ": 33.707222
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "4621af"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -12.7809229,
        "posY": 1.46,
        "posZ": -7.3005085,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 33.6899261,
        "scaleY": 1.0,
        "scaleZ": 11.0229836
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "90dfb9"
    },
    {
      "Name": "BlockSquare",
      "Transform": {
        "posX": -1.86913538,
        "posY": 0.4664874,
        "posZ": 6.27677155,
        "rotX": -2.484742E-06,
        "rotY": 180.0152,
        "rotZ": -4.654172E-07,
        "scaleX": 2.3996172,
        "scaleY": 1.0,
        "scaleZ": 1.55121708
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9254902,
        "g": 0.0,
        "b": 0.0,
        "a": 0.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN RECOGER MESA\r\n---------------------------------\r\n-- INCLUDES\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_jugadores\n-- JUGADORES\r\nJugador_1_E1 = Player[\"Blue\"]\r\nJugador_2_E1 = Player[\"Yellow\"]\r\nJugador_1_E2 = Player[\"Green\"]\r\nJugador_2_E2 = Player[\"Red\"]\r\n\r\nJugador_1_E1_color = \"Blue\"\r\nJugador_2_E1_color = \"Yellow\"\r\nJugador_1_E2_color = \"Green\"\r\nJugador_2_E2_color = \"Red\"\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_jugadores\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/recoger_mesa\nfunction recoger_mesa()\r\n\r\n  -- Objetos de la mesa\r\n  objetos_mesa = getAllObjects()\r\n  Nobjetos = #objetos_mesa\r\n\r\n  objetos_a_agrupar = {}\r\n  kk = 1\r\n\r\n  -- Posición de zona del mazo de robo - ocultas y ocultas apoyadas\r\n  Z_mazo_robo   = getObjectFromGUID(Z_mazo_robo_GUID)\r\n  pos_mazo_robo = Z_mazo_robo.getPosition()\r\n  rot_mazo_robo = Z_mazo_robo.getRotation()\r\n  -- Volteamos\r\n  rot_mazo_robo = {rot_mazo_robo[1], rot_mazo_robo[2], 180 }\r\n\r\n  Z_ocultas              = getObjectFromGUID(Z_marcador_ocultas_GUID)\r\n  pos_mazo_ocultas       = Z_ocultas.getPosition()\r\n  rot_mazo_ocultas       = Z_ocultas.getRotation()\r\n  -- Volteamos\r\n  rot_mazo_ocultas = {rot_mazo_ocultas[1], rot_mazo_ocultas[2], 180 }\r\n\r\n  Z_ocultas_apoyo        = getObjectFromGUID(Z_marcador_ocultas_apoyo_GUID)\r\n  pos_mazo_ocultas_apoyo = Z_ocultas_apoyo.getPosition()\r\n  rot_mazo_ocultas_apoyo = Z_ocultas_apoyo.getRotation()\r\n  -- Volteamos\r\n  rot_mazo_ocultas_apoyo = {rot_mazo_ocultas_apoyo[1], rot_mazo_ocultas_apoyo[2], 180 }\r\n\r\n  -- Vemos cuantas cartas hay en sus posiciones correctas\r\n  OBJ_mazo_robo     =  Z_mazo_robo.getObjects()\r\n  OBJ_ocultas       =  Z_ocultas.getObjects()\r\n  OBJ_ocultas_apoyo =  Z_ocultas_apoyo.getObjects()\r\n  -- Manos de jugadores\r\n  mano_1_E1 = Jugador_1_E1.getHandObjects()\r\n  mano_2_E1 = Jugador_2_E1.getHandObjects()\r\n  mano_1_E2 = Jugador_1_E2.getHandObjects()\r\n  mano_2_E2 = Jugador_2_E2.getHandObjects()\r\n\r\n  N_OBJ_mazo_robo     = #OBJ_mazo_robo\r\n  N_OBJ_ocultas       = #OBJ_ocultas\r\n  N_OBJ_ocultas_apoyo = #OBJ_ocultas_apoyo\r\n\r\n  N_mano_1_E1 = #mano_1_E1\r\n  N_mano_2_E1 = #mano_2_E1\r\n  N_mano_1_E2 = #mano_1_E2\r\n  N_mano_2_E2 = #mano_2_E2\r\n\r\n  print('N_mano_1_E1 = ',N_mano_1_E1)\r\n  print('N_mano_2_E1 = ',N_mano_2_E1)\r\n  print('N_mano_1_E2 = ',N_mano_1_E2)\r\n  print('N_mano_2_E2 = ',N_mano_2_E2)\r\n\r\n  if N_OBJ_mazo_robo ~= 0 then\r\n    CARD_mazo_robo     = OBJ_mazo_robo[1].getObjects()\r\n    N_CARD_mazo_robo = #CARD_mazo_robo\r\n  else\r\n    N_CARD_mazo_robo = 0\r\n  end\r\n  if N_OBJ_ocultas ~= 0 then\r\n    CARD_ocultas       = OBJ_ocultas[1].getObjects()\r\n    N_CARD_ocultas = #CARD_ocultas\r\n  else\r\n    N_CARD_ocultas = 0\r\n  end\r\n  if N_OBJ_ocultas_apoyo ~= 0 then\r\n    CARD_ocultas_apoyo = OBJ_ocultas_apoyo[1].getObjects()\r\n    N_CARD_ocultas_apoyo = #CARD_ocultas_apoyo\r\n  else\r\n    N_CARD_ocultas_apoyo = 0\r\n  end\r\n\r\n  Cond_Manos = N_mano_1_E1*N_mano_2_E1*N_mano_1_E2*N_mano_2_E2\r\n\r\n\r\n\r\n  if (N_CARD_mazo_robo ~= 108 or N_CARD_ocultas ~= 4\r\n      or N_CARD_ocultas_apoyo ~= 4) and Cond_Manos == 0 then\r\n\r\n      printToAll('Ordenando mesa',{1,0,0})\r\n\r\n      -- Encontrar cartas / mazos\r\n      for k = 1,Nobjetos do\r\n\r\n        objeto_nombre = objetos_mesa[k].name\r\n        if objeto_nombre == 'Card' or objeto_nombre == 'CardCustom' or objeto_nombre == 'Deck' then\r\n          objetos_a_agrupar[kk] = k\r\n          kk = kk + 1\r\n        end\r\n\r\n      end\r\n\r\n      -- Recolocar cartas / mazos encontrados\r\n\r\n      Cont_Robo         = 0\r\n      Cont_Ocultas      = 0\r\n      Cont_Ocultas_Apoy = 0\r\n\r\n      for i = 1,(kk-1) do\r\n\r\n        objeto = objetos_mesa[objetos_a_agrupar[i]]\r\n        objeto_nombre = objeto.name\r\n\r\n        if objeto_nombre == 'Deck' then\r\n\r\n          mazo    = objeto.getObjects()\r\n          Ncartas = #mazo\r\n          objeto.setLock(false)\r\n\r\n          for j = 1,Ncartas do\r\n\r\n            carta_name = mazo[j].name\r\n\r\n            if carta_name == 'Oculta' then\r\n              param = {position = pos_mazo_ocultas,\r\n                       rotation = rot_mazo_ocultas,\r\n                       index = 1}\r\n              objeto.takeObject(param)\r\n              Cont_Ocultas = Cont_Ocultas + 1\r\n            elseif carta_name == 'Oculta Apoyada' then\r\n              param = {position = pos_mazo_ocultas_apoyo,\r\n                       rotation = rot_mazo_ocultas_apoyo,\r\n                       index = 1}\r\n              objeto.takeObject(param)\r\n              Cont_Ocultas_Apoy = Cont_Ocultas_Apoy + 1\r\n            else\r\n              param = {position = pos_mazo_robo,\r\n                       rotation = rot_mazo_robo,\r\n                       index = 1}\r\n              objeto.takeObject(param)\r\n              Cont_Robo = Cont_Robo + 1\r\n            end\r\n\r\n          end\r\n\r\n        elseif objeto_nombre == 'Card' or objeto_nombre == 'CardCustom'  then\r\n\r\n          carta_name = objeto.getName()\r\n          print(carta_name)\r\n          if carta_name == 'Oculta' then\r\n            objeto.setLock(false)\r\n            pos0 = objeto.getPosition()\r\n            objeto.setPosition({pos0[1], 3, pos0[3]})\r\n            objeto.setPosition(pos_mazo_ocultas)\r\n            objeto.setRotation(rot_mazo_ocultas)\r\n            Cont_Ocultas = Cont_Ocultas + 1\r\n          elseif carta_name == 'Oculta Apoyada' then\r\n            objeto.setLock(false)\r\n            pos0 = objeto.getPosition()\r\n            objeto.setPosition({pos0[1], 3, pos0[3]})\r\n            objeto.setPosition(pos_mazo_ocultas_apoyo)\r\n            objeto.setRotation(rot_mazo_ocultas_apoyo)\r\n            Cont_Ocultas_Apoy = Cont_Ocultas_Apoy + 1\r\n          else\r\n            objeto.setLock(false)\r\n            pos0 = objeto.getPosition()\r\n            objeto.setPosition({pos0[1], 3, pos0[3]})\r\n            objeto.setPosition(pos_mazo_robo)\r\n            objeto.setRotation(rot_mazo_robo)\r\n            Cont_Robo = Cont_Robo + 1\r\n          end\r\n        end\r\n\r\n      end\r\n      print(Cont_Robo)\r\n      print(Cont_Ocultas)\r\n      print(Cont_Ocultas_Apoy)\r\n\r\n  elseif N_CARD_mazo_robo == 108 and N_CARD_ocultas == 4 and N_CARD_ocultas_apoyo == 4 then\r\n    printToAll('Mesa ordenada', {0,1,0})\r\n  elseif Cond_Manos ~= 0 then\r\n    printToAll('No se puede recoger la mesa', {1,0,0})\r\n  end\r\n\r\n\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/recoger_mesa\n\r\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='RECOGER',\r\n    click_function='pulsar_boton_recoger',\r\n    function_owner=self,\r\n    position={0,0.5,0},\r\n    height=400,\r\n    width=450,\r\n    font_size=90,\r\n    color={1,1,1},\r\n    tooltip = 'Recoger mesa',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton_recoger()\r\n  recoger_mesa()\r\nend",
      "LuaScriptState": "",
      "GUID": "07ba83"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 8.697875,
        "posY": 0.51,
        "posZ": -21.603796,
        "rotX": 2.03435093E-07,
        "rotY": 89.99898,
        "rotZ": -4.407698E-07,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "06faf3"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 8.7,
        "posY": 0.51,
        "posZ": -18.7021484,
        "rotX": -1.47950871E-07,
        "rotY": 89.99898,
        "rotZ": -6.576112E-08,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "2c848f"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 13.0,
        "posY": 0.51,
        "posZ": -18.7,
        "rotX": 5.688003E-08,
        "rotY": 89.99897,
        "rotZ": -1.877828E-07,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "f83701"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 17.3,
        "posY": 0.51,
        "posZ": -18.7,
        "rotX": -5.300228E-07,
        "rotY": 90.00001,
        "rotZ": -4.51559643E-08,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "d6844a"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 21.6,
        "posY": 0.51,
        "posZ": -18.7,
        "rotX": -6.88142254E-09,
        "rotY": 90.0000153,
        "rotZ": -1.64252015E-07,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "39ce4c"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 13.0,
        "posY": 0.51,
        "posZ": -21.6,
        "rotX": 3.704303E-08,
        "rotY": 89.99897,
        "rotZ": -1.96161576E-08,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "b35dc9"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 17.3,
        "posY": 0.51,
        "posZ": -21.6,
        "rotX": -1.13300809E-08,
        "rotY": 89.99897,
        "rotZ": 5.282867E-09,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "eb0137"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": 21.6,
        "posY": 0.51,
        "posZ": -21.6,
        "rotX": 8.936393E-09,
        "rotY": 89.99897,
        "rotZ": 2.43312268E-08,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "095259"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -8.7,
        "posY": 0.51,
        "posZ": 18.7,
        "rotX": -3.059053E-07,
        "rotY": 89.9975,
        "rotZ": 3.44588429E-08,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a36fe2"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -13.0,
        "posY": 0.51,
        "posZ": 18.7,
        "rotX": 1.07839533E-07,
        "rotY": 90.01593,
        "rotZ": -1.42614439E-07,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "ce3a1f"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -17.3,
        "posY": 0.51,
        "posZ": 18.7,
        "rotX": -8.855458E-08,
        "rotY": 89.99897,
        "rotZ": -1.41289775E-07,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "d426db"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -21.6,
        "posY": 0.51,
        "posZ": 18.7,
        "rotX": -5.72939074E-09,
        "rotY": 89.99897,
        "rotZ": -5.982945E-08,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "095776"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -8.7,
        "posY": 0.51,
        "posZ": 21.6,
        "rotX": -3.53387151E-08,
        "rotY": 89.99897,
        "rotZ": -9.61584146E-09,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "809966"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -13.0,
        "posY": 0.51,
        "posZ": 21.6,
        "rotX": 1.11853936E-07,
        "rotY": 89.9996262,
        "rotZ": 1.291453E-07,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "6a1079"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -17.3,
        "posY": 0.51,
        "posZ": 21.6,
        "rotX": -3.49983154E-08,
        "rotY": 89.9999847,
        "rotZ": 180.0,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "073759"
    },
    {
      "Name": "BlockRectangle",
      "Transform": {
        "posX": -21.6,
        "posY": 0.51,
        "posZ": 21.6,
        "rotX": 3.08778674E-08,
        "rotY": 89.99896,
        "rotZ": -4.970002E-07,
        "scaleX": 2.16,
        "scaleY": 1.0,
        "scaleZ": 1.7
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.7,
        "g": 0.7,
        "b": 0.7
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "c9fede"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -1.46559072,
        "posY": 1.41993833,
        "posZ": -1.75493848,
        "rotX": 0.0,
        "rotY": 0.0,
        "rotZ": 0.0,
        "scaleX": 2.25893044,
        "scaleY": 0.917606831,
        "scaleZ": 3.459164
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "d5fc5d"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 1.56888032,
        "posY": 1.40278816,
        "posZ": -1.75101435,
        "rotX": 0.0,
        "rotY": 0.0,
        "rotZ": 0.0,
        "scaleX": 2.2754364,
        "scaleY": 0.944382131,
        "scaleZ": 3.45237136
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "5d0d4e"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 0.0393672,
        "posY": 1.18678689,
        "posZ": 2.25051832,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 2.2670176,
        "scaleY": 0.451303959,
        "scaleZ": 3.45830226
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "a5e227"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -2.13263488,
        "posY": 1.293361,
        "posZ": 24.0542641,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 2.25083828,
        "scaleY": 0.6666093,
        "scaleZ": 3.46176863
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "e0d23b"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": 2.132545,
        "posY": 1.30032778,
        "posZ": 24.05297,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 2.25624418,
        "scaleY": 0.6783858,
        "scaleZ": 3.43823266
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "3670f3"
    },
    {
      "Name": "Deck",
      "Transform": {
        "posX": -1.331934,
        "posY": 1.5374341,
        "posZ": -1.83300006,
        "rotX": -2.86839764E-07,
        "rotY": 0.09048905,
        "rotZ": 180.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.713235259,
        "g": 0.713235259,
        "b": 0.713235259
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": true,
      "Hands": false,
      "SidewaysCard": false,
      "DeckIDs": [
        125,
        126,
        115,
        101,
        120,
        131,
        136,
        123,
        142,
        151,
        135,
        106,
        138,
        143,
        128,
        106,
        139,
        148,
        103,
        130,
        129,
        102,
        107,
        152,
        133,
        116,
        142,
        102,
        140,
        100,
        140,
        121,
        110,
        111,
        109,
        109,
        137,
        130,
        117,
        132,
        135,
        108,
        104,
        147,
        121,
        153,
        103,
        132,
        113,
        141,
        122,
        134,
        131,
        114,
        126,
        146,
        127,
        128,
        110,
        101,
        137,
        144,
        120,
        134,
        124,
        116,
        122,
        136,
        152,
        150,
        118,
        143,
        113,
        105,
        119,
        139,
        127,
        141,
        145,
        100,
        133,
        107,
        119,
        111,
        105,
        149,
        104,
        118,
        145,
        114,
        112,
        115,
        149,
        123,
        144,
        148,
        146,
        153,
        147,
        108,
        150,
        117,
        124,
        129
      ],
      "CustomDeck": {
        "1": {
          "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
          "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
          "NumWidth": 10,
          "NumHeight": 7,
          "BackIsHidden": false,
          "UniqueBack": false
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.1234225,
            "posY": 2.065789,
            "posZ": -1.91367269,
            "rotX": -8.4661E-05,
            "rotY": 89.99999,
            "rotZ": 180.000015,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Kr",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 125,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "14631e"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.14631653,
            "posY": 2.12205172,
            "posZ": -1.8771075,
            "rotX": 0.06218081,
            "rotY": 0.0622812621,
            "rotZ": 175.7074,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "At",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 126,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "4d0d9e"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46559072,
            "posY": 5.055417,
            "posZ": -1.75493848,
            "rotX": 2.83096028E-07,
            "rotY": 0.06462375,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "3r",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 115,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "daf3ff"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46903324,
            "posY": 2.041782,
            "posZ": -1.75467527,
            "rotX": 0.54438585,
            "rotY": 0.036788132,
            "rotZ": 184.8868,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "2c",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 101,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "bf0dc6"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46963561,
            "posY": 2.01702523,
            "posZ": -1.75477552,
            "rotX": 0.5558242,
            "rotY": 0.03681165,
            "rotZ": 185.31546,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "8r",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 120,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "8b99ca"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46892142,
            "posY": 1.84721458,
            "posZ": -1.75500238,
            "rotX": 0.161475554,
            "rotY": 0.0102560688,
            "rotZ": 183.901169,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "6t",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 131,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "dad48b"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.469543,
            "posY": 2.04499745,
            "posZ": -1.75456178,
            "rotX": 0.478096873,
            "rotY": 0.0244997162,
            "rotZ": 184.7522,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Jt",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 136,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "6d5ca1"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46864867,
            "posY": 1.8418895,
            "posZ": -1.7549479,
            "rotX": 0.08980928,
            "rotY": 359.9888,
            "rotZ": 183.1185,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Jr",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 123,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "cb6084"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46924794,
            "posY": 1.98422563,
            "posZ": -1.7548728,
            "rotX": 0.304928571,
            "rotY": 0.0157406833,
            "rotZ": 184.492142,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "4p",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 142,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "d3e061"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.4669373,
            "posY": 1.69656384,
            "posZ": -1.75517941,
            "rotX": 0.200200066,
            "rotY": 0.0330302678,
            "rotZ": 183.172577,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Kp",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 151,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "451078"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46743417,
            "posY": 1.67023873,
            "posZ": -1.75503826,
            "rotX": 359.955017,
            "rotY": -0.00438388437,
            "rotZ": 182.42984,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "10t",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 135,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "71a33f"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46497083,
            "posY": 1.60168421,
            "posZ": -1.754884,
            "rotX": 359.870941,
            "rotY": 359.991119,
            "rotZ": 179.935211,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "7c",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 106,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "25056c"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46866047,
            "posY": 1.8579334,
            "posZ": -1.754315,
            "rotX": 0.7194031,
            "rotY": 0.0194235742,
            "rotZ": 184.0712,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Kt",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 138,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "5e0aba"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46719658,
            "posY": 1.59861791,
            "posZ": -1.75489378,
            "rotX": 0.13694337,
            "rotY": 359.991943,
            "rotZ": 181.31308,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "5p",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 143,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "2cda31"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46698952,
            "posY": 1.57932222,
            "posZ": -1.75475466,
            "rotX": 0.09563316,
            "rotY": 359.9862,
            "rotZ": 181.0374,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "3t",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 128,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "0256f1"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46709919,
            "posY": 1.55925083,
            "posZ": -1.754877,
            "rotX": 0.106936887,
            "rotY": -0.00362574332,
            "rotZ": 181.445419,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "7c",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 106,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "faac9c"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46676481,
            "posY": 1.683819,
            "posZ": -1.75514436,
            "rotX": 359.828735,
            "rotY": 359.992645,
            "rotZ": 181.7722,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Ap",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 139,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "91e585"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46405292,
            "posY": 1.479562,
            "posZ": -1.75509274,
            "rotX": 359.946472,
            "rotY": 0.012178937,
            "rotZ": 180.019043,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "10p",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 148,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "dca96d"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46896231,
            "posY": 2.04857039,
            "posZ": -1.75524652,
            "rotX": 0.4039419,
            "rotY": 0.0229285043,
            "rotZ": 184.677216,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "4c",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 103,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "642a51"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46527946,
            "posY": 1.41854858,
            "posZ": -1.75503993,
            "rotX": 0.104522668,
            "rotY": 0.009785382,
            "rotZ": 180.551651,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "5t",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 130,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "bb4502"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46584272,
            "posY": 1.54823232,
            "posZ": -1.754987,
            "rotX": 359.9627,
            "rotY": -0.00238180766,
            "rotZ": 180.494843,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "4t",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 129,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "af6068"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46505857,
            "posY": 1.42137992,
            "posZ": -1.75461829,
            "rotX": 359.828461,
            "rotY": 359.9772,
            "rotZ": 178.811768,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "3c",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 102,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "731ac6"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.4671936,
            "posY": 1.63934827,
            "posZ": -1.75499129,
            "rotX": 0.18619968,
            "rotY": 0.0209502727,
            "rotZ": 182.2696,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "8c",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 107,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "37d8d3"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.465435,
            "posY": 1.28700829,
            "posZ": -1.75472736,
            "rotX": 0.05194821,
            "rotY": 359.9847,
            "rotZ": 178.834656,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Joker",
          "Description": "50",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 152,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "e48146"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46919394,
            "posY": 1.70382547,
            "posZ": -1.75524592,
            "rotX": 359.983246,
            "rotY": 0.009643721,
            "rotZ": 183.542068,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "8t",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 133,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "561bc8"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46655822,
            "posY": 1.59393609,
            "posZ": -1.75458622,
            "rotX": 359.9601,
            "rotY": 359.977264,
            "rotZ": 180.2942,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "4r",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 116,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "ff8471"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46987855,
            "posY": 2.19182944,
            "posZ": -1.75516355,
            "rotX": 0.0526099019,
            "rotY": 0.00637872145,
            "rotZ": 185.634521,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "4p",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 142,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "9b62b8"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46690214,
            "posY": 1.58615291,
            "posZ": -1.75495219,
            "rotX": 0.0200970266,
            "rotY": -0.005379669,
            "rotZ": 181.353348,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "3c",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 102,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "484321"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46738958,
            "posY": 1.73857641,
            "posZ": -1.75505364,
            "rotX": 359.95285,
            "rotY": 359.9853,
            "rotZ": 182.1235,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "2p",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 140,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "9609d5"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46582317,
            "posY": 1.601201,
            "posZ": -1.75467265,
            "rotX": 359.905731,
            "rotY": 359.968719,
            "rotZ": 179.724457,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Ac",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 100,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "340b90"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46260083,
            "posY": 1.56987488,
            "posZ": -1.75526893,
            "rotX": 1.73607624,
            "rotY": 359.9849,
            "rotZ": 179.556808,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "2p",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 140,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "c046d6"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.47069323,
            "posY": 2.32392573,
            "posZ": -1.75544226,
            "rotX": 359.499847,
            "rotY": 359.9562,
            "rotZ": 185.312622,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "9r",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 121,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "b1d548"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46567261,
            "posY": 1.40659547,
            "posZ": -1.7554934,
            "rotX": 359.8601,
            "rotY": 0.012405321,
            "rotZ": 181.0225,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Jc",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 110,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "17b9ac"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.47304821,
            "posY": 2.13457513,
            "posZ": -1.75517976,
            "rotX": 0.295069128,
            "rotY": 0.0231247712,
            "rotZ": 187.513855,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Qc",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 111,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "818f5b"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46317315,
            "posY": 1.19239306,
            "posZ": -1.75472987,
            "rotX": 359.8286,
            "rotY": -0.0050639594,
            "rotZ": 177.205948,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "10c",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 109,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "87ad4b"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46581721,
            "posY": 1.4179095,
            "posZ": -1.75505674,
            "rotX": 359.9734,
            "rotY": 359.9941,
            "rotZ": 180.373917,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "10c",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 109,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "546ae3"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46392179,
            "posY": 1.12177181,
            "posZ": -1.7551825,
            "rotX": 359.9481,
            "rotY": 0.00669456972,
            "rotZ": 177.871979,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Qt",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 137,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "3d42f2"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.466097,
            "posY": 1.46093965,
            "posZ": -1.75444317,
            "rotX": 0.025373606,
            "rotY": 359.964722,
            "rotZ": 179.135162,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "5t",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 130,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "6b6252"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46449363,
            "posY": 1.23771286,
            "posZ": -1.75487423,
            "rotX": 359.9496,
            "rotY": 0.00521252,
            "rotZ": 178.1619,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "5r",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 117,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "77d90a"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46503866,
            "posY": 1.35730374,
            "posZ": -1.75445354,
            "rotX": 359.891052,
            "rotY": 359.96347,
            "rotZ": 178.1668,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "7t",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 132,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "7d6cb4"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.4640826,
            "posY": 1.11989892,
            "posZ": -1.75483274,
            "rotX": 359.939575,
            "rotY": 0.005114076,
            "rotZ": 178.318176,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "10t",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 135,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "69dd41"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46569991,
            "posY": 1.41026986,
            "posZ": -1.75550592,
            "rotX": 0.105174936,
            "rotY": 359.976776,
            "rotZ": 179.127258,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "9c",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 108,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "2f70a0"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46448827,
            "posY": 1.27855968,
            "posZ": -1.755293,
            "rotX": 0.12378604,
            "rotY": 0.0254756715,
            "rotZ": 179.994247,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "5c",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 104,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "4d4b17"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.463128,
            "posY": 1.269634,
            "posZ": -1.75501335,
            "rotX": 359.9289,
            "rotY": 0.0149591984,
            "rotZ": 178.643112,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "9p",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 147,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "a32365"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46263063,
            "posY": 1.32377422,
            "posZ": -1.75469327,
            "rotX": 359.945374,
            "rotY": 359.990234,
            "rotZ": 177.527542,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "9r",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 121,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "20f469"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46293628,
            "posY": 1.22607327,
            "posZ": -1.75532472,
            "rotX": 359.684937,
            "rotY": 0.007706056,
            "rotZ": 178.113571,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Joker",
          "Description": "50",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 153,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "6a174e"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46473515,
            "posY": 1.34109664,
            "posZ": -1.754824,
            "rotX": 0.0394965,
            "rotY": -0.003958431,
            "rotZ": 179.219986,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "4c",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 103,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "d2f455"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46244633,
            "posY": 1.11321521,
            "posZ": -1.75501239,
            "rotX": 359.852478,
            "rotY": 0.003793903,
            "rotZ": 177.015869,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "7t",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 132,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "87412e"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.4630841,
            "posY": 1.21088648,
            "posZ": -1.75482047,
            "rotX": 0.18818374,
            "rotY": 0.015257827,
            "rotZ": 178.447113,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Ar",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 113,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "1e73e8"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46484828,
            "posY": 0.993078232,
            "posZ": -1.755221,
            "rotX": 0.0474041253,
            "rotY": 0.0255745072,
            "rotZ": 178.945984,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "3p",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 141,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "1d9d27"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46803558,
            "posY": 1.80458164,
            "posZ": -1.75514829,
            "rotX": 0.380232275,
            "rotY": 0.0341248177,
            "rotZ": 184.2568,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "10r",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 122,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "518590"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46387351,
            "posY": 0.992559135,
            "posZ": -1.7550292,
            "rotX": 0.0529661141,
            "rotY": 0.0184971131,
            "rotZ": 177.976379,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "9t",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 134,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "1f62d4"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46300077,
            "posY": 1.27582073,
            "posZ": -1.75500584,
            "rotX": -0.00516958674,
            "rotY": 0.0121861063,
            "rotZ": 178.69754,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "6t",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 131,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "7e6a4b"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46390665,
            "posY": 1.11846852,
            "posZ": -1.75489569,
            "rotX": 0.0102523379,
            "rotY": 0.007320552,
            "rotZ": 178.056839,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "2r",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 114,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "a1970c"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46711588,
            "posY": 2.05809355,
            "posZ": -1.75545955,
            "rotX": 358.951324,
            "rotY": 359.961975,
            "rotZ": 182.108353,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "At",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 126,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "edd1b9"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.464021,
            "posY": 1.09684527,
            "posZ": -1.7551049,
            "rotX": 0.0562654175,
            "rotY": 0.000316238846,
            "rotZ": 178.917374,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "8p",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 146,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "9ca48a"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46530461,
            "posY": 1.43722391,
            "posZ": -1.75491571,
            "rotX": 359.901917,
            "rotY": -0.001788369,
            "rotZ": 180.0602,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "2t",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 127,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "be8c2c"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46362841,
            "posY": 0.962602735,
            "posZ": -1.75442255,
            "rotX": 359.680542,
            "rotY": 359.97937,
            "rotZ": 175.315033,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "3t",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 128,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "734080"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46428514,
            "posY": 1.23601377,
            "posZ": -1.75503862,
            "rotX": 359.976318,
            "rotY": 0.004858829,
            "rotZ": 178.075272,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Jc",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 110,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "51baa9"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46439075,
            "posY": 0.963653743,
            "posZ": -1.75498831,
            "rotX": 359.7582,
            "rotY": 0.0146314558,
            "rotZ": 177.753372,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "2c",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 101,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "6a1d60"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46659887,
            "posY": 1.50205874,
            "posZ": -1.75492907,
            "rotX": 0.186448753,
            "rotY": 0.0122031346,
            "rotZ": 181.414536,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Qt",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 137,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "52f535"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46493411,
            "posY": 1.11480761,
            "posZ": -1.75491416,
            "rotX": 359.980072,
            "rotY": 0.00378116849,
            "rotZ": 178.176071,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "6p",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 144,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "c1f410"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46561038,
            "posY": 1.589735,
            "posZ": -1.7549367,
            "rotX": 0.0374123268,
            "rotY": 9.83513455E-05,
            "rotZ": 180.125046,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "8r",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 120,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "3f0d1f"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.465588,
            "posY": 1.473867,
            "posZ": -1.75493968,
            "rotX": 0.0011446909,
            "rotY": 4.92419676E-05,
            "rotZ": 180.00766,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "9t",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 134,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "b11478"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46556675,
            "posY": 1.3570708,
            "posZ": -1.75494277,
            "rotX": -0.00114249566,
            "rotY": 7.398855E-05,
            "rotZ": 179.992432,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Qr",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 124,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "48bbc7"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46559763,
            "posY": 1.24058592,
            "posZ": -1.75493479,
            "rotX": 359.9626,
            "rotY": -0.000139772965,
            "rotZ": 179.874908,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "4r",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 116,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "f77701"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46351624,
            "posY": 0.950454235,
            "posZ": -1.755264,
            "rotX": 359.839874,
            "rotY": 0.0314518027,
            "rotZ": 177.774063,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "10r",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 122,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "73003b"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.4622786,
            "posY": 0.898697853,
            "posZ": -1.75478292,
            "rotX": 359.776367,
            "rotY": -0.00220789714,
            "rotZ": 175.511032,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Jt",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 136,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "cca20c"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46809793,
            "posY": 1.88774979,
            "posZ": -1.75491667,
            "rotX": 0.102647811,
            "rotY": 359.991241,
            "rotZ": 183.0145,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Joker",
          "Description": "50",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 152,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "0573da"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46176946,
            "posY": 0.8267049,
            "posZ": -1.75556815,
            "rotX": 359.6434,
            "rotY": 0.03015568,
            "rotZ": 176.079788,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Qp",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 150,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "7bbda6"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46741724,
            "posY": 1.824518,
            "posZ": -1.7547909,
            "rotX": 0.0952849761,
            "rotY": 0.00104113482,
            "rotZ": 182.407288,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "6r",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 118,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "74abea"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46168673,
            "posY": 0.84771204,
            "posZ": -1.75488913,
            "rotX": 0.32931456,
            "rotY": 0.0143637564,
            "rotZ": 177.237946,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "5p",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 143,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "a18603"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.4666481,
            "posY": 1.28122056,
            "posZ": -1.75511229,
            "rotX": 359.819946,
            "rotY": 359.9895,
            "rotZ": 179.8867,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Ar",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 113,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "c04826"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.464391,
            "posY": 0.68504107,
            "posZ": -1.75417686,
            "rotX": 359.6313,
            "rotY": -0.00497137569,
            "rotZ": 174.804276,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "6c",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 105,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "f64279"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46756029,
            "posY": 1.85342157,
            "posZ": -1.754934,
            "rotX": 0.154201865,
            "rotY": 0.009253213,
            "rotZ": 183.1691,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "7r",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 119,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "5a4538"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.4617542,
            "posY": 0.647782147,
            "posZ": -1.75465786,
            "rotX": 359.7469,
            "rotY": 0.0174492635,
            "rotZ": 174.904678,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Ap",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 139,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "ed3dda"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.468833,
            "posY": 1.92095733,
            "posZ": -1.75459516,
            "rotX": 359.9557,
            "rotY": 359.965485,
            "rotZ": 182.433884,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "2t",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 127,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "65b0e0"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46291888,
            "posY": 0.8571425,
            "posZ": -1.75491929,
            "rotX": 359.814819,
            "rotY": 0.0124325631,
            "rotZ": 175.951538,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "3p",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 141,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "a55dff"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.465751,
            "posY": 1.45862067,
            "posZ": -1.75502253,
            "rotX": 0.217979521,
            "rotY": 0.0141486507,
            "rotZ": 180.836151,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "7p",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 145,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "ba78a5"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46271265,
            "posY": 0.724501431,
            "posZ": -1.75523829,
            "rotX": 359.8955,
            "rotY": 0.0179193,
            "rotZ": 175.831024,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Ac",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 100,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "9ae8c0"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46848941,
            "posY": 1.90353513,
            "posZ": -1.754928,
            "rotX": 0.178819284,
            "rotY": 0.007249302,
            "rotZ": 183.695755,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "8t",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 133,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "142f04"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46385336,
            "posY": 1.109597,
            "posZ": -1.7549541,
            "rotX": 359.984741,
            "rotY": 0.0005735877,
            "rotZ": 178.479965,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "8c",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 107,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "a436ce"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46370673,
            "posY": 1.32296836,
            "posZ": -1.75497615,
            "rotX": 359.980377,
            "rotY": 359.99176,
            "rotZ": 178.58522,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "7r",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 119,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "80a77a"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46419477,
            "posY": 0.977192163,
            "posZ": -1.75509894,
            "rotX": 0.148802638,
            "rotY": 0.03437844,
            "rotZ": 178.721,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Qc",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 111,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "e4d001"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46580911,
            "posY": 1.47209084,
            "posZ": -1.75497448,
            "rotX": 0.212445438,
            "rotY": 0.008453933,
            "rotZ": 180.874649,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "6c",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 105,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "37041c"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46422434,
            "posY": 1.32119608,
            "posZ": -1.75505924,
            "rotX": 0.2144634,
            "rotY": 0.0115760043,
            "rotZ": 179.663742,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Jp",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 149,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "e22f9d"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.47274375,
            "posY": 2.27439833,
            "posZ": -1.75497591,
            "rotX": 359.9775,
            "rotY": 359.9805,
            "rotZ": 186.986282,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "5c",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 104,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "60df16"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46397018,
            "posY": 1.114921,
            "posZ": -1.75481021,
            "rotX": 0.07408535,
            "rotY": 0.0080061825,
            "rotZ": 178.01561,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "6r",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 118,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "9179a0"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46867955,
            "posY": 1.966794,
            "posZ": -1.75459731,
            "rotX": 0.193551943,
            "rotY": -0.003422524,
            "rotZ": 183.4483,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "7p",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 145,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "5736f5"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.4640094,
            "posY": 0.9816966,
            "posZ": -1.75513458,
            "rotX": 359.84552,
            "rotY": 0.009814226,
            "rotZ": 177.502884,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "2r",
          "Description": "20",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 114,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "2170b4"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46765947,
            "posY": 1.7084893,
            "posZ": -1.75456965,
            "rotX": 359.969147,
            "rotY": 359.970428,
            "rotZ": 180.991272,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Kc",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 112,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "e65900"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46366417,
            "posY": 0.827144444,
            "posZ": -1.75498652,
            "rotX": 0.0383343,
            "rotY": 0.022478845,
            "rotZ": 176.868,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "3r",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 115,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "8ff8fa"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46406484,
            "posY": 1.05945063,
            "posZ": -1.75541329,
            "rotX": 359.925018,
            "rotY": 0.04556513,
            "rotZ": 178.346039,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Jp",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 149,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "5dd17c"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46347666,
            "posY": 0.88891834,
            "posZ": -1.75483453,
            "rotX": 0.173552021,
            "rotY": -0.0009501276,
            "rotZ": 176.81987,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Jr",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 123,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "aea6b2"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.458904,
            "posY": 0.7643894,
            "posZ": -1.75500441,
            "rotX": 359.39566,
            "rotY": 0.02195774,
            "rotZ": 172.691086,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "6p",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 144,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "a9f6a6"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.462243,
            "posY": 0.7024863,
            "posZ": -1.754881,
            "rotX": 359.8169,
            "rotY": -0.00182836235,
            "rotZ": 174.611984,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "10p",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 148,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "47f303"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46534562,
            "posY": 1.0107578,
            "posZ": -1.75511837,
            "rotX": 359.884827,
            "rotY": 0.00711157126,
            "rotZ": 178.284851,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "8p",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 146,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "47f467"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46358621,
            "posY": 0.7053074,
            "posZ": -1.75434864,
            "rotX": 0.114059292,
            "rotY": 359.993225,
            "rotZ": 175.744476,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Joker",
          "Description": "50",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 153,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "1f546e"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.4658848,
            "posY": 1.72422659,
            "posZ": -1.75504351,
            "rotX": 0.0187289715,
            "rotY": -0.003293028,
            "rotZ": 181.617355,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "9p",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 147,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "2eef5f"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.45959973,
            "posY": 0.5653654,
            "posZ": -1.75496376,
            "rotX": 359.3721,
            "rotY": 0.02617284,
            "rotZ": 172.108566,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "9c",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 108,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "4993d4"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46741545,
            "posY": 1.884063,
            "posZ": -1.75491691,
            "rotX": 0.00319606578,
            "rotY": 359.989563,
            "rotZ": 182.413239,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Qp",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 150,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "a46794"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.4595319,
            "posY": 0.6957066,
            "posZ": -1.75496674,
            "rotX": 359.8182,
            "rotY": 0.0178692583,
            "rotZ": 173.4135,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "5r",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 117,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "96a6d6"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.46632969,
            "posY": 1.74743974,
            "posZ": -1.75473833,
            "rotX": 359.986725,
            "rotY": 359.982056,
            "rotZ": 181.274246,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Qr",
          "Description": "10",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 124,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "888e6a"
        },
        {
          "Name": "Card",
          "Transform": {
            "posX": -1.45961463,
            "posY": 0.535610437,
            "posZ": -1.75519145,
            "rotX": 359.860443,
            "rotY": 0.0233611856,
            "rotZ": 173.247025,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "4t",
          "Description": "5",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 129,
          "SidewaysCard": false,
          "CustomDeck": {
            "1": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646488883/941CE60C944B3B94597E4CC31ADF537B4004A3C2/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1021696076646489586/3C1E4137458B454383FF83B72817B31798F19978/",
              "NumWidth": 10,
              "NumHeight": 7,
              "BackIsHidden": false,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "5de82d"
        }
      ],
      "GUID": "9a8137"
    },
    {
      "Name": "Deck",
      "Transform": {
        "posX": -2.13263488,
        "posY": 1.03808939,
        "posZ": 24.0542641,
        "rotX": -2.42307834E-07,
        "rotY": 90.0000153,
        "rotZ": 180.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.713235259,
        "g": 0.713235259,
        "b": 0.713235259
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": true,
      "Hands": false,
      "SidewaysCard": false,
      "DeckIDs": [
        200,
        200,
        200,
        200
      ],
      "CustomDeck": {
        "2": {
          "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1020570699268389353/E999541760495CA549A9AD31951D0DAC9802F1E6/",
          "BackURL": "http://cloud-3.steamusercontent.com/ugc/1020570699268389353/E999541760495CA549A9AD31951D0DAC9802F1E6/",
          "NumWidth": 1,
          "NumHeight": 1,
          "BackIsHidden": true,
          "UniqueBack": false
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "CardCustom",
          "Transform": {
            "posX": -2.13263488,
            "posY": 1.319798,
            "posZ": 24.0542641,
            "rotX": -3.35855366E-05,
            "rotY": 90.00007,
            "rotZ": 179.999817,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Oculta",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 200,
          "SidewaysCard": false,
          "CustomDeck": {
            "2": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1020570699268389353/E999541760495CA549A9AD31951D0DAC9802F1E6/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1020570699268389353/E999541760495CA549A9AD31951D0DAC9802F1E6/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "9689e7"
        },
        {
          "Name": "CardCustom",
          "Transform": {
            "posX": -2.13267231,
            "posY": 1.40532231,
            "posZ": 24.0526237,
            "rotX": 359.954376,
            "rotY": 90.00162,
            "rotZ": 178.76973,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Oculta",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 200,
          "SidewaysCard": false,
          "CustomDeck": {
            "2": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1020570699268389353/E999541760495CA549A9AD31951D0DAC9802F1E6/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1020570699268389353/E999541760495CA549A9AD31951D0DAC9802F1E6/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "b0894b"
        },
        {
          "Name": "CardCustom",
          "Transform": {
            "posX": -2.13263488,
            "posY": 1.29027975,
            "posZ": 24.0542641,
            "rotX": -2.39995261E-05,
            "rotY": 90.00008,
            "rotZ": 179.999878,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Oculta",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 200,
          "SidewaysCard": false,
          "CustomDeck": {
            "2": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1020570699268389353/E999541760495CA549A9AD31951D0DAC9802F1E6/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1020570699268389353/E999541760495CA549A9AD31951D0DAC9802F1E6/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "79b92f"
        },
        {
          "Name": "CardCustom",
          "Transform": {
            "posX": -2.13263488,
            "posY": 1.17328119,
            "posZ": 24.0542641,
            "rotX": -4.16906623E-05,
            "rotY": 90.00008,
            "rotZ": 179.999756,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Oculta",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 200,
          "SidewaysCard": false,
          "CustomDeck": {
            "2": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1020570699268389353/E999541760495CA549A9AD31951D0DAC9802F1E6/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1020570699268389353/E999541760495CA549A9AD31951D0DAC9802F1E6/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "727c05"
        }
      ],
      "GUID": "973325"
    },
    {
      "Name": "Deck",
      "Transform": {
        "posX": 2.13254571,
        "posY": 1.03808939,
        "posZ": 24.05297,
        "rotX": -8.966048E-07,
        "rotY": 90.00007,
        "rotZ": 180.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.713235259,
        "g": 0.713235259,
        "b": 0.713235259
      },
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": true,
      "Hands": false,
      "SidewaysCard": false,
      "DeckIDs": [
        500,
        500,
        600,
        400
      ],
      "CustomDeck": {
        "5": {
          "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
          "BackURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
          "NumWidth": 1,
          "NumHeight": 1,
          "BackIsHidden": true,
          "UniqueBack": false
        },
        "6": {
          "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
          "BackURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
          "NumWidth": 1,
          "NumHeight": 1,
          "BackIsHidden": true,
          "UniqueBack": false
        },
        "4": {
          "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
          "BackURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
          "NumWidth": 1,
          "NumHeight": 1,
          "BackIsHidden": true,
          "UniqueBack": false
        }
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "ContainedObjects": [
        {
          "Name": "CardCustom",
          "Transform": {
            "posX": 2.13254547,
            "posY": 1.5627383,
            "posZ": 24.05297,
            "rotX": -0.000228725519,
            "rotY": 90.00007,
            "rotZ": 180.000031,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Oculta Apoyada",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 500,
          "SidewaysCard": false,
          "CustomDeck": {
            "5": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "b5dcbb"
        },
        {
          "Name": "CardCustom",
          "Transform": {
            "posX": 2.132708,
            "posY": 1.58550858,
            "posZ": 24.0530357,
            "rotX": 0.000431595516,
            "rotY": 89.99974,
            "rotZ": 179.999832,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Oculta Apoyada",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 500,
          "SidewaysCard": false,
          "CustomDeck": {
            "5": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "4ca9ea"
        },
        {
          "Name": "CardCustom",
          "Transform": {
            "posX": 2.132545,
            "posY": 1.297243,
            "posZ": 24.05297,
            "rotX": -7.67775346E-05,
            "rotY": 90.00007,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Oculta Apoyada",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 600,
          "SidewaysCard": false,
          "CustomDeck": {
            "6": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "234fe6"
        },
        {
          "Name": "CardCustom",
          "Transform": {
            "posX": 2.13254476,
            "posY": 1.180241,
            "posZ": 24.05297,
            "rotX": -0.000207856,
            "rotY": 90.00007,
            "rotZ": 180.0001,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Oculta Apoyada",
          "Description": "",
          "GMNotes": "",
          "ColorDiffuse": {
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          },
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": 400,
          "SidewaysCard": false,
          "CustomDeck": {
            "4": {
              "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
              "BackURL": "http://cloud-3.steamusercontent.com/ugc/1000304544162610290/A802F5DE1D676064C2EEC2A250FA18F3F347A545/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false
            }
          },
          "XmlUI": "",
          "LuaScript": "",
          "LuaScriptState": "",
          "GUID": "0b0232"
        }
      ],
      "GUID": "813a58"
    },
    {
      "Name": "BlockSquare",
      "Transform": {
        "posX": 1.87,
        "posY": 0.47242403,
        "posZ": 6.28,
        "rotX": -2.484742E-06,
        "rotY": 180.0152,
        "rotZ": -4.654172E-07,
        "scaleX": 2.3996172,
        "scaleY": 1.0,
        "scaleZ": 1.55121708
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 0.9254902,
        "g": 0.0,
        "b": 0.0,
        "a": 0.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "---------------------------------\r\n-- BOTÓN RECOGER MESA\r\n---------------------------------\r\n-- INCLUDES\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_jugadores\n-- JUGADORES\r\nJugador_1_E1 = Player[\"Blue\"]\r\nJugador_2_E1 = Player[\"Yellow\"]\r\nJugador_1_E2 = Player[\"Green\"]\r\nJugador_2_E2 = Player[\"Red\"]\r\n\r\nJugador_1_E1_color = \"Blue\"\r\nJugador_2_E1_color = \"Yellow\"\r\nJugador_1_E2_color = \"Green\"\r\nJugador_2_E2_color = \"Red\"\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_jugadores\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n-- -------------------------------GUID_ZONAS----------------------------\r\n\r\n\r\n-- MAZO DE ROBO\r\nZ_mazo_robo_GUID = 'd5fc5d'\r\n-- MONTÓN OCULTO\r\nZ_monton_oculto_GUID = 'a5e227'\r\n-- MAZO DE DESCARTE\r\nZ_mazo_descarte_GUID = '5d0d4e'\r\n-- ZONA MARCADOR OCULTAS\r\nZ_marcador_ocultas_GUID = 'e0d23b'\r\n-- ZONA MARCADOR OCULTAS APOYADAS\r\nZ_marcador_ocultas_apoyo_GUID = '3670f3'\r\n\r\n-- ----------------------- Equipo 1----------------------\r\n-- ----------------Canastas-------------------\r\nzonaCanastaE1_C01_GUID = 'db7d7a'\r\nzonaCanastaE1_C02_GUID = '1e1fee'\r\nzonaCanastaE1_C03_GUID = '1a0d9d'\r\nzonaCanastaE1_C04_GUID = '45f2be'\r\nzonaCanastaE1_C05_GUID = '65d35b'\r\nzonaCanastaE1_C06_GUID = '29035b'\r\nzonaCanastaE1_C07_GUID = '1ad7ac'\r\nzonaCanastaE1_C08_GUID = '875f5e'\r\nzonaCanastaE1_C09_GUID = 'bdafdd'\r\n-- -------------------------------------------\r\n-- ----------------Cerradas/Flores------------\r\nzonaCerradaE1_C01_GUID = '2ef863'\r\nzonaCerradaE1_C02_GUID = '880f29'\r\nzonaCerradaE1_C03_GUID = 'f2b64b'\r\nzonaCerradaE1_C04_GUID = '1359fa'\r\nzonaCerradaE1_C05_GUID = '8463b8'\r\nzonaCerradaE1_C06_GUID = '04dcae'\r\nzonaCerradaE1_C07_GUID = '1ef3ec'\r\nzonaCerradaE1_C08_GUID = 'da892d'\r\n-------------------------Flores------------\r\nzonaCerradaE1_F01_GUID = 'ed889e'\r\nzonaCerradaE1_F02_GUID = '9f2a5d'\r\nzonaCerradaE1_F03_GUID = '0b88c3'\r\nzonaCerradaE1_F04_GUID = '5883a5'\r\n-------------------------------------------\r\n------------------------------------------------------\r\n----------------------- Equipo 2----------------------\r\n----------------Canastas-------------------\r\nzonaCanastaE2_C01_GUID = '2e09c7'\r\nzonaCanastaE2_C02_GUID = '970291'\r\nzonaCanastaE2_C03_GUID = '649098'\r\nzonaCanastaE2_C04_GUID = 'b8caf3'\r\nzonaCanastaE2_C05_GUID = 'e26404'\r\nzonaCanastaE2_C06_GUID = 'ed78e4'\r\nzonaCanastaE2_C07_GUID = 'a6714b'\r\nzonaCanastaE2_C08_GUID = 'df0ee8'\r\nzonaCanastaE2_C09_GUID = 'ccf4ad'\r\n-------------------------------------------\r\n----------------Cerradas/Flores------------\r\nzonaCerradaE2_C01_GUID = '8ebbc8'\r\nzonaCerradaE2_C02_GUID = '7283e5'\r\nzonaCerradaE2_C03_GUID = '8279ef'\r\nzonaCerradaE2_C04_GUID = '3493a2'\r\nzonaCerradaE2_C05_GUID = 'e67d0f'\r\nzonaCerradaE2_C06_GUID = '07c6a3'\r\nzonaCerradaE2_C07_GUID = 'd2e8d9'\r\nzonaCerradaE2_C08_GUID = 'abfa5d'\r\n-------------------------Flores------------\r\nzonaCerradaE2_F01_GUID = '4e6a03'\r\nzonaCerradaE2_F02_GUID = 'e54478'\r\nzonaCerradaE2_F03_GUID = 'f2eba4'\r\nzonaCerradaE2_F04_GUID = '4889e2'\r\n-------------------------------------------\r\n----------- MESA ---------------\r\nzonaCanastaE1_GUID = '4621af'\r\nzonaCanastaE2_GUID = '90dfb9'\r\n-------------------------------------------\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/zonas_GUID\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n-- CONTADOR PUNTOS CANASTAS --\r\ncontador_puntos_canastas_E1_GUID = '821d9e'\r\ncontador_puntos_canastas_E2_GUID = '5043d9'\r\n\r\n-- CONTADOR PUNTOS TOTALES --\r\ncontador_puntos_total_E1_GUID = 'f204af'\r\ncontador_puntos_total_E2_GUID = '784c65'\r\n\r\n-- CONTADOR RONDA\r\ncontador_ronda_GUID = 'a17f07'\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Zonas_Objetos/contadores_GUID\n\r\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/repartir_cartas\nfunction repartir_cartas()\r\n\r\n  -- Zona de pre-reparto\r\n  zona_pre_reparto_GUID = '49cc56'\r\n  zona_pre_reparto     = getObjectFromGUID(zona_pre_reparto_GUID)\r\n  pos_zona_pre_reparto = zona_pre_reparto.getPosition()\r\n\r\n  -- Posición de zona del mazo de robo - ocultas y ocultas apoyadas\r\n  Z_mazo_robo   = getObjectFromGUID(Z_mazo_robo_GUID)\r\n  pos_mazo_robo = Z_mazo_robo.getPosition()\r\n  rot_mazo_robo = Z_mazo_robo.getRotation()\r\n  pos_mazo_robo_off = {pos_mazo_robo[1],5,pos_mazo_robo[3]}\r\n  rot_mazo_robo = {rot_mazo_robo[1],rot_mazo_robo[2],180}\r\n\r\n  OBJ_mazo_robo     =  Z_mazo_robo.getObjects()\r\n  N_OBJ_mazo_robo     = #OBJ_mazo_robo\r\n\r\n  if N_OBJ_mazo_robo ~= 0 then\r\n    CARD_mazo_robo     = OBJ_mazo_robo[1].getObjects()\r\n    N_CARD_mazo_robo = #CARD_mazo_robo\r\n  end\r\n\r\n  if N_CARD_mazo_robo == 104 then\r\n    printToAll('Repartiendo', {0,1,0})\r\n\r\n  lista_reparto = {}\r\n  lista_reparto = {Jugador_1_E1_color, Jugador_2_E1_color,\r\n                   Jugador_1_E2_color, Jugador_2_E2_color}\r\n  contador_reparto = 1\r\n\r\n    for k = 1,5 do\r\n\r\n      carta = CARD_mazo_robo[k]\r\n      jugador_a_repartir = lista_reparto[contador_reparto]\r\n\r\n      param = {position = pos_zona_pre_reparto,\r\n               rotation = rot_mazo_robo,\r\n               index = 1,\r\n      --callback_function = function(obj) espera_post_coger(obj,jugador_a_repartir) end,\r\n          }\r\n      OBJ_mazo_robo[1].takeObject(param)\r\n\r\n      Wait.frames(function() repartir_espera(zona_pre_reparto,jugador_a_repartir) end, 60)\r\n\r\n      contador_reparto = contador_reparto + 1\r\n      if contador_reparto > 4 then\r\n        contador_reparto = 1\r\n      end\r\n\r\n    end\r\n\r\n\r\n  else\r\n    printToAll('No se pueden repartir, faltan cartas', {1,0,0})\r\n  end\r\n\r\n\r\nend\r\n\r\nfunction espera_post_coger(obj,jugador)\r\n  Wait.frames(function() post_repartir(obj,jugador) end, 5)\r\nend\r\n\r\nfunction post_repartir(obj,jugador)\r\n  print(jugador)\r\n  obj.deal(1,jugador)\r\nend\r\n\r\nfunction repartir_espera(zona_pre_reparto,jugador)\r\n  carta_zona_reparto = zona_pre_reparto.getObjects()\r\n  print(#carta_zona_reparto)\r\n  print(jugador)\r\n  carta_zona_reparto[1].setPosition({3,3,3})\r\nend\r\n\n----#include !/../../AppData/Local/Temp/TabletopSimulator/Tabletop Simulator Lua/Funciones/repartir_cartas\n\r\n\r\nfunction onLoad()\r\n\r\n  param = {\r\n    label='REPARTIR',\r\n    click_function='pulsar_boton_repartir',\r\n    function_owner=self,\r\n    position={0,0.5,0},\r\n    height=400,\r\n    width=450,\r\n    font_size=90,\r\n    color={1,1,1},\r\n    tooltip = 'Repartir cartas',\r\n  }\r\n\r\n  self.createButton(param)\r\n  self.setLock(true)\r\n\r\nend\r\n\r\nfunction pulsar_boton_repartir()\r\n  repartir_cartas()\r\nend",
      "LuaScriptState": "",
      "GUID": "22f205"
    },
    {
      "Name": "ScriptingTrigger",
      "Transform": {
        "posX": -0.3757007,
        "posY": 7.45119858,
        "posZ": -0.0588359833,
        "rotX": 0.0,
        "rotY": 0.0,
        "rotZ": 0.0,
        "scaleX": 6.05110168,
        "scaleY": 1.97428572,
        "scaleZ": 5.63602829
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.509803951
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "49cc56"
    },
    {
      "Name": "3DText",
      "Transform": {
        "posX": 6.967286,
        "posY": 0.961132169,
        "posZ": -24.3362732,
        "rotX": 90.0,
        "rotY": 0.499799043,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Text": {
        "Text": "0",
        "colorstate": {
          "r": 1.0,
          "g": 1.0,
          "b": 1.0
        },
        "fontSize": 64
      },
      "XmlUI": "",
      "LuaScript": "",
      "LuaScriptState": "",
      "GUID": "b847c2"
    }
  ],
  "DecalPallet": [],
  "TabStates": {
    "0": {
      "title": "PUNTOS",
      "body": "----------------------------------------\n--------------   RONDA 1 -------------\n----------------------------------------\n------------  EQUIPO 1 - EQUIPO 2 ---\n        BASE:        0             0\n      MANO:        0             0\nSUBTOTAL:        0             0\n----------------------------------------\n      TOTAL:        0             0\n----------------------------------------\n",
      "color": "Grey",
      "visibleColor": {
        "r": 0.5,
        "g": 0.5,
        "b": 0.5
      },
      "id": 0
    }
  },
  "VersionNumber": "v12.3.5"
}